<?php
 goto JFR4v; qYdU_: lBklX: goto iVFPw; iNRWH: require IA_INSTALL_ROOT . "\x2f\144\x61\x74\141\57\x63\x6f\156\146\x69\147\x2e\x70\150\x70"; goto eQXfu; FWdSR: if (!($action == "\x64\x6f\167\156\154\x6f\x61\144\x5f\x70\x65\x72\x63\x65\156\x74")) { goto TMazG; } goto DYi3m; eJYPn: if (!(file_exists($filename) && !empty($filesize))) { goto tw69b; } goto c70VB; FSvC8: function we7_setcookie($key, $value) { goto e52_B; mBivU: local_mkdirs("\x64\x61\x74\141\x2f\154\x6f\x67\x73"); goto MXIeW; MXIeW: oE0NU: goto o30pL; iT6BC: $data = file_get_contents("\56\x2f\144\141\164\141\x2f\x6c\x6f\147\163\x2f\144\x61\164\x61\x2e\152\163\157\156"); goto Zg2oS; xX3Rq: $data = json_decode($data, true); goto KHWTs; tuxQw: $data = array($key => $value); goto Mo2Hu; GJwcS: if (!file_exists("\x2e\x2f\x64\x61\164\141\x2f\x6c\x6f\147\163\57\x64\x61\x74\x61\x2e\152\x73\157\156")) { goto cIlea; } goto iT6BC; KHWTs: $data[$key] = $value; goto z81Cm; Zg2oS: cIlea: goto TEaGz; hvHj0: return true; goto YrcE0; Mo2Hu: NPPhl: goto P8HJs; TEaGz: if (empty($data)) { goto lp3R5; } goto xX3Rq; o30pL: $data = null; goto GJwcS; P8HJs: file_put_contents("\56\x2f\x64\141\x74\141\x2f\x6c\x6f\x67\163\57\144\x61\x74\141\x2e\x6a\163\x6f\x6e", json_encode($data)); goto hvHj0; e52_B: if (is_dir("\144\141\x74\x61\x2f\154\x6f\x67\163")) { goto oE0NU; } goto mBivU; z81Cm: goto NPPhl; goto eLgET; eLgET: lp3R5: goto tuxQw; YrcE0: } goto PQBIM; H2ZX4: $ret["\163\145\163\x73\151\157\x6e"]["\x72\x65\163\165\x6c\164"] = "\xe7\263\273\347\xbb\x9f\163\145\163\x73\x69\157\156\x2e\141\x75\164\x6f\x5f\x73\164\x61\x72\x74\345\xbc\x80\xe5\220\xaf"; goto ZmWDy; AFpr7: rename("\151\x6e\163\164\141\154\x6c\x2e\x70\150\160", "\151\x6e\163\x74\141\154\154\x2e\160\150\x70\x2e\x62\x61\x6b"); goto FSiFa; KZYco: jtaKS: goto y0BCE; zwgXU: jHSiP: goto m0XY7; OZwHk: vU2cq: goto mI4fX; Ip9xu: $params = array("\143\x6f\x64\145" => $code, "\x74\x69\155\x65\x73\x74\141\155\x70" => time(), "\x75\x72\x6c" => $siteroot); goto RoA6A; s_XbG: $sitepath = str_replace("\x2f\x69\x6e\x73\x74\141\x6c\154\x2e\160\x68\160", '', $sitepath); goto Y7Cqi; J_q7A: $register_site_result = we7_register_site(); goto Od0R2; tV1kH: $db_username = trim($_POST["\165\x73\145\162\156\x61\155\145"]); goto jqpn5; N1Ps6: $ret["\165\160\154\157\x61\144"]["\146\141\151\154\145\x64"] = true; goto F9HIt; iVFPw: if (empty($result)) { goto O9Y0s; } goto g_VgL; jqpn5: $db_password = trim($_POST["\x70\141\x73\163\167\x6f\162\x64"]); goto T4yP6; UC22f: $accesstoken = we7_get_accesstoken(); goto XkIkW; fGfr2: if ($ret["\144\141\164\141"]["\157\153"]) { goto kg_Kz; } goto odKy3; vn05e: require IA_INSTALL_ROOT . "\x2f\146\162\141\155\145\167\157\162\x6b\57\x62\157\x6f\x74\x73\x74\x72\x61\160\56\x69\156\x63\56\160\x68\x70"; goto n21y2; PQBIM: function we7_getcookie($key) { goto mTUyn; Xh9ed: if (!isset($result[$key])) { goto fWvVQ; } goto xNr5N; aI0PD: return ''; goto KFBro; mTUyn: if (!empty($key)) { goto La2zA; } goto RVQFs; f4aHo: fWvVQ: goto aI0PD; tkauu: $result = json_decode($data, true); goto Xh9ed; CE8io: if (!empty($data)) { goto AoG5A; } goto AyCeB; xNr5N: return $result[$key]; goto f4aHo; O1aHb: SBCLk: goto CE8io; T_VCp: $data = file_get_contents("\x2e\57\x64\141\164\141\57\x6c\x6f\147\163\57\x64\x61\x74\x61\56\152\163\x6f\x6e"); goto O1aHb; wU3QJ: AoG5A: goto tkauu; RVQFs: return ''; goto qVj7m; My7OT: if (!file_exists("\56\57\144\x61\164\x61\57\154\157\x67\163\x2f\x64\x61\164\x61\56\x6a\x73\157\x6e")) { goto SBCLk; } goto T_VCp; qVj7m: La2zA: goto My7OT; AyCeB: return ''; goto wU3QJ; KFBro: } goto mraqf; QkooD: $ret["\x61\x6c\x77\x61\171\163\x5f\160\x6f\160\x75\x6c\141\164\145\137\162\x61\167\x5f\160\157\163\x74\137\144\141\164\x61"]["\162\x65\163\x75\154\x74"] = @ini_get("\141\x6c\167\141\x79\x73\137\x70\x6f\x70\x75\154\x61\x74\x65\137\162\141\167\x5f\x70\x6f\163\x74\x5f\x64\141\164\x61"); goto XncsJ; LsGVQ: if ($result) { goto kCNdw; } goto VaYze; XncsJ: $ret["\x61\154\x77\x61\171\163\x5f\160\157\160\x75\x6c\x61\164\x65\137\162\x61\167\137\160\157\163\164\x5f\144\141\164\141"]["\x68\141\x6e\x64\154\x65"] = "\x68\164\x74\160\163\x3a\x2f\57\163\56\167\x37\x2e\143\x63\57\x77\157\x2f\x70\162\157\142\x6c\145\x6d\57\61\63\x34"; goto zRhN_; B7vPH: we7_setcookie("\141\143\x63\145\163\x73\x74\157\x6b\145\x6e", $data); goto CuOqy; Rr6bi: $ret["\x75\x70\154\157\141\144"]["\162\145\x73\165\154\x74"] = $server["\x75\160\x6c\157\x61\144"]; goto fLA3l; w9jk0: ZYI5K: goto oamC9; fFmJw: $source_size = $header_array["\x43\x6f\156\x74\145\x6e\x74\55\x4c\145\x6e\147\164\x68"]; goto ggxfC; Y7Cqi: $siteroot = htmlspecialchars(($is_https ? "\150\164\164\x70\163\72\57\x2f" : "\x68\x74\164\x70\72\x2f\57") . (!empty($_SERVER["\110\124\124\x50\137\110\x4f\123\x54"]) ? $_SERVER["\110\x54\x54\x50\x5f\110\117\x53\124"] : '') . $sitepath); goto wJYJV; vHk5z: $ret["\x64\x6f\x6d"]["\146\x61\151\154\145\x64"] = true; goto OKp3g; DmAX_: exit; goto UQBIr; y8aEW: KNmW6: goto MYxpy; lu1xc: H0c1U: goto tp1IQ; XAkh4: $ret["\163\145\163\x73\151\157\156"]["\x6f\x6b"] = ini_get("\163\145\163\x73\151\x6f\x6e\x2e\141\165\164\x6f\x5f\x73\164\x61\162\164"); goto NvoJ9; sRlMs: if (empty($code)) { goto Y0HcC; } goto Ip9xu; bjR3R: if (empty($sitename)) { goto vU2cq; } goto Y9j7B; mHAYe: goto F8UhE; goto Q3pW9; bzS4W: $install_url = $siteroot . "\x2f\x69\156\x73\x74\x61\154\x6c\56\x70\x68\160"; goto sRlMs; qXmlU: exit(we7_error(0, array("\164\157\164\x61\154" => $data["\143\x68\x75\x6e\x6b\x5f\164\x6f\x74\x61\154"]))); goto xtDrd; CDL2K: xLc3K: goto HMYBy; Gr9EN: iqPtY: goto Au7uO; cmdXi: if (!file_exists(IA_INSTALL_ROOT . "\x2f\144\x61\x74\x61\57\143\157\x6e\x66\151\147\x2e\x70\150\x70")) { goto RH9e8; } goto pIuWV; ol70E: if ($ret["\146\x6f\160\x65\x6e"]["\157\x6b"]) { goto oLEJx; } goto FrXUW; bqaTK: UD9bS: goto PZYjn; MYxpy: $user_result = we7_update_user($username, $password); goto oceef; Au7uO: if (!($action == "\143\150\145\x63\153\137\x73\x69\164\145")) { goto PL0Mn; } goto KeFPQ; IUHjv: $ret["\x66\157\x70\x65\156"]["\x6e\x61\155\145"] = "\146\157\160\145\156"; goto RC6D8; n21y2: we7_update_sitename(''); goto Zc02L; ovig8: TEXbE: goto XAkh4; mkKTJ: goto Rtc12; goto maBlO; la6EI: exit(we7_error(0, $chunk_num)); goto fYSZT; HfsBA: if (!($database_result !== true)) { goto zyzCZ; } goto Ewkfz; n1d_l: $chunk_total = we7_getcookie("\143\x68\165\156\153\137\164\157\164\141\154"); goto KHitf; d89tD: $ret["\166\145\162\x73\151\x6f\x6e"]["\x66\x61\x69\154\145\144"] = true; goto vnLTa; gyV8v: exit(we7_error(0, "\163\165\x63\x63\x65\163\163")); goto PfI7M; VAMUn: error_reporting(0); goto MdgXq; l500G: if (!($action == "\143\150\x75\x6e\x6b\x74\x6f\x74\141\154")) { goto vhRJ9; } goto JfFgs; F9HIt: $ret["\x75\160\x6c\x6f\x61\144"]["\156\x61\x6d\145"] = "\344\270\212\344\xbc\xa0\xe9\x99\220\345\210\266"; goto Rr6bi; MdVm6: $ret["\166\145\162\x73\151\157\x6e"]["\162\145\x73\165\154\x74"] = PHP_VERSION . "\xef\xbc\210\346\234\x80\344\xbd\x8e\350\xa6\201\346\261\202\x35\56\66\x2e\60\xef\xbc\x89"; goto q7_25; a8Vi6: if (!($action == "\147\145\164\x5f\143\x6f\156\x66\x69\x67")) { goto fNDwc; } goto cmdXi; dCWm3: kjFaw: goto zWwRw; QEe6I: ob_start(); goto WG62c; V7L0_: lnfVl: goto h10K9; rufNk: function we7_db() { goto ue9Ks; RLlv2: $sql = "\111\116\x53\x45\x52\x54\40\111\116\x54\117\x20\140{$db["\x70\x72\x65\146\x69\170"]}\165\163\x65\x72\x73\140\40\x28\x60\165\163\145\162\x6e\x61\x6d\145\x60\x2c\x20\140\x70\x61\163\163\167\x6f\x72\x64\x60\x2c\40\140\x73\141\154\x74\x60\54\x20\140\152\157\151\156\x64\x61\x74\x65\140\x2c\40\140\x67\162\157\165\x70\x69\x64\140\x2c\40\x60\163\x74\x61\x74\x75\163\140\x2c\40\x60\x66\157\x75\x6e\x64\145\162\x5f\x67\162\157\165\160\151\x64\x60\54\40\140\151\163\137\x62\x69\156\144\x60\51\x20\x56\x41\114\x55\105\123\50\47{$user["\x75\163\x65\x72\156\141\155\x65"]}\47\x2c\40\47{$password}\47\x2c\x20\47{$salt}\47\54\40\x27" . time() . "\x27\x2c\40\x31\x2c\x20\x32\x2c\40\x31\54\x20\60\51"; goto DiLrb; pM50S: we7_pdo($link, "\x65\170\145\143", "\x53\x45\124\x20\x63\x68\x61\x72\x61\143\x74\145\x72\137\163\x65\x74\137\x63\x6f\x6e\x6e\x65\x63\x74\x69\157\156\x3d\165\164\146\70\x2c\x20\x63\x68\x61\162\141\143\164\x65\162\x5f\x73\145\164\137\x72\x65\163\x75\x6c\x74\163\x3d\x75\164\x66\x38\x2c\40\143\150\141\x72\141\x63\164\145\x72\137\x73\x65\164\x5f\143\154\151\145\156\x74\75\142\x69\x6e\141\162\171"); goto qfWue; ENCU6: $password = sha1("{$user["\x70\141\x73\163\167\157\162\x64"]}\55{$salt}\x2d{$authkey}"); goto RLlv2; MPO7p: $session = install_authcode(json_encode($cookie), "\x65\156\x63\157\144\x65", $authkey); goto R3gkC; fsN0q: SurcK: goto Fe1Vd; nSz0F: $support_innodb = false; goto wvToA; Pib0Z: $cookie["\x68\x61\x73\x68"] = md5($password . $salt); goto MPO7p; XxhsA: $dbfile = IA_INSTALL_ROOT . "\x2f\144\141\x74\x61\57\x64\142\x2d\x31\56\x78\56\160\x68\x70"; goto EUehg; R3gkC: $secure = $is_https ? 1 : 0; goto NVcEC; Ye2nv: $all_engines = $engines->fetchAll(); goto r6efh; p_Ydw: $salt = local_salt(8); goto ENCU6; Fe1Vd: $user = array("\165\163\145\162\156\141\x6d\145" => "\141\144\155\151\x6e", "\160\141\x73\x73\x77\x6f\162\144" => "\61\62\x33\64\x35\66"); goto p_Ydw; S1MRr: $authkey = $config["\163\x65\x74\164\151\156\147"]["\141\x75\x74\x68\153\x65\171"]; goto VHilK; MWAOV: $cookie = array("\154\x61\x73\164\x76\x69\163\151\x74" => '', "\154\x61\163\164\151\160" => ''); goto bu1AT; qfWue: we7_pdo($link, "\145\x78\145\143", "\123\105\x54\40\x73\161\x6c\137\x6d\157\144\145\75\47\47"); goto XxhsA; wvToA: $engines = $link->query("\x53\x48\117\127\40\105\x4e\x47\x49\116\105\123\73"); goto Ye2nv; EUehg: if (file_exists(IA_INSTALL_ROOT . "\x2f\x69\x6e\x64\x65\170\x2e\160\150\160") && is_dir(IA_INSTALL_ROOT . "\x2f\167\x65\x62") && file_exists($dbfile)) { goto Ri4pH; } goto RfTNh; d5Kz6: require IA_INSTALL_ROOT . "\x2f\144\141\164\141\57\x63\x6f\x6e\x66\151\x67\56\x70\x68\x70"; goto MZ__x; MZ__x: $db = array("\x73\x65\162\x76\145\x72" => $config["\x64\142"]["\x6d\x61\163\164\x65\162"]["\x68\x6f\x73\x74"], "\x70\x6f\162\x74" => $config["\144\x62"]["\155\x61\163\x74\x65\162"]["\x70\157\162\164"], "\x75\x73\145\x72\x6e\141\x6d\145" => $config["\x64\142"]["\x6d\x61\163\164\145\162"]["\165\163\x65\162\156\x61\x6d\x65"], "\160\141\163\163\x77\x6f\162\x64" => $config["\x64\x62"]["\155\x61\x73\164\x65\x72"]["\160\141\163\163\167\x6f\x72\144"], "\160\x72\145\x66\x69\170" => $config["\144\x62"]["\x6d\x61\163\x74\x65\162"]["\x74\141\x62\154\145\160\162\x65"], "\x6e\x61\x6d\145" => $config["\x64\x62"]["\155\x61\x73\x74\145\x72"]["\x64\x61\x74\141\x62\x61\163\145"]); goto v93Uu; nKCg4: $dat = (require $dbfile); goto yZUXL; a20WL: Ri4pH: goto nKCg4; IcD9l: define("\x49\116\x5f\111\x41", true); goto d5Kz6; DobJl: goto SurcK; goto a20WL; rIErb: return "\345\xae\x89\350\xa3\205\xe5\214\x85\xe4\xb8\215\xe6\255\243\xe7\241\256\x2c\40\346\225\xb0\346\x8d\256\345\256\211\350\xa3\x85\xe8\204\232\346\234\254\xe7\xbc\xba\xe5\244\xb1\x2e"; goto rkAVD; Pm0fg: if ($result) { goto p2viK; } goto J3Zt7; Gt5Qf: p2viK: goto MWAOV; Lzdzs: HUpDj: goto dbmf6; oNa80: Ez9cI: goto wi91S; J3Zt7: return "\345\x88\x9d\xe5\xa7\213\xe7\x94\xa8\xe6\210\xb7\345\x88\x9b\345\xbb\272\xe5\xa4\261\xe8\264\xa5\x2c\xe8\257\267\350\201\x94\xe7\xb3\xbb\345\256\230\xe6\x96\271\xe5\244\x84\xe7\x90\x86\x21"; goto Gt5Qf; NVcEC: setcookie("{$cookiepre}\x5f\x5f\163\x65\163\163\x69\157\156", $session, 0, "\57", '', $secure, true); goto g9Iem; DiLrb: $result = we7_pdo($link, "\145\x78\x65\143", $sql); goto Pm0fg; dbmf6: foreach ($dat["\x64\141\164\141\x73"] as $data) { local_run($data, $link, $db); uJ1YY: } goto XeFXP; bu1AT: $cookie["\x75\151\x64"] = $link->lastInsertId(); goto Pib0Z; yZUXL: if (!(empty($dat) || !is_array($dat))) { goto Tg90U; } goto rIErb; VHilK: $link = new PDO("\x6d\x79\163\x71\x6c\x3a\144\x62\156\141\155\x65\x3d{$db["\x6e\141\155\145"]}\73\150\x6f\x73\164\x3d{$db["\x73\145\162\166\145\162"]}\73\160\157\162\x74\75{$db["\160\157\x72\164"]}", $db["\165\x73\x65\x72\x6e\141\155\x65"], $db["\160\141\x73\163\x77\157\162\x64"]); goto pM50S; wi91S: foreach ($dat["\x73\x63\x68\145\155\141\163"] as $schema) { goto nm4Li; AMXX8: local_run($sql, $link, $db); goto KFxj5; KFxj5: kCf9X: goto jwuZe; nm4Li: $sql = local_create_sql($schema, $support_innodb); goto AMXX8; jwuZe: } goto Lzdzs; XeFXP: po2_n: goto fsN0q; r6efh: foreach ($all_engines as $engine) { goto ouKhQ; HRWxX: UlN3g: goto qk0qJ; f8x1X: $support_innodb = true; goto x8U11; x8U11: OTpAi: goto HRWxX; ouKhQ: if (!(strtolower($engine["\x45\156\x67\151\x6e\145"]) == "\x69\156\x6e\157\144\142" && in_array(strtolower($engine["\123\x75\160\x70\157\162\164"]), array("\x64\x65\x66\x61\165\x6c\x74", "\171\145\163")))) { goto OTpAi; } goto f8x1X; qk0qJ: } goto oNa80; ue9Ks: global $is_https; goto IcD9l; rkAVD: Tg90U: goto nSz0F; g9Iem: return true; goto scYwD; RfTNh: return "\xe5\256\211\350\243\205\345\214\205\xe4\270\x8d\xe6\xad\243\xe7\241\256\x2e"; goto DobJl; v93Uu: $cookiepre = $config["\143\157\x6f\153\151\145"]["\160\x72\x65"]; goto S1MRr; scYwD: } goto sr5jU; Bs2Jb: function handleError($code, $description, $file = null, $line = null) { goto dmjQV; dmjQV: list($error, $log) = map_error_code($code); goto y2RQt; Dfwls: return file_log($data); goto yH21t; y2RQt: $data = array("\x64\x61\164\145" => date("\x59\x2d\x6d\x2d\144\x20\110\x3a\x69\x3a\x73", time()), "\x6c\145\x76\145\x6c" => $log, "\x63\157\x64\x65" => $code, "\145\162\x72\157\x72" => $error, "\144\x65\x73\x63\x72\x69\160\164\x69\x6f\156" => $description, "\146\151\154\145" => $file, "\x6c\x69\156\145" => $line, "\155\x65\x73\163\x61\x67\x65" => $error . "\x20\50" . $code . "\51\x3a\40" . $description . "\40\x69\x6e\x20\x5b" . $file . "\54\x20\154\151\x6e\145\40" . $line . "\135"); goto Dfwls; yH21t: } goto wPqtZ; Vmt3c: header("\114\x6f\143\141\164\x69\157\x6e\x3a\x20" . $siteroot . "\57\x69\156\x73\x74\x61\x6c\x6c\56\x70\x68\160"); goto DmAX_; tp1IQ: we7_setcookie("\162\x65\x67\x69\x73\164\145\x72\x65\x64\137\163\x69\x74\145", 1); goto xQCeJ; Xf2S1: exit(we7_error(0, array())); goto BPBiW; czjom: $data = we7_request_api(API_OAUTH_LOGIN_URL, array("\x61\x70\160\151\144" => "\167\142\x39\63\x39\x66\141\65\71\x65\60\x61\x31\70\71\x64\65\146", "\162\x65\144\x69\x72\145\x63\164" => $callback)); goto oIQxq; ijIml: $post = array("\141\143\x63\x65\163\x73\137\164\x6f\x6b\145\156" => $accesstoken, "\x63\150\x75\x6e\x6b" => $chunk_num); goto X4ql7; q21fs: function we7_error_page($message) { return "\74\x21\x44\117\x43\124\131\120\x45\40\x68\164\x6d\x6c\x3e\xa\x9\x9\11\x3c\150\164\155\x6c\40\154\141\x6e\147\75\42\172\x68\55\143\x6e\x22\x3e\12\x9\11\x9\x9\74\x68\x65\141\144\76\xa\x9\11\11\x9\x9\74\155\x65\x74\x61\40\143\150\x61\162\x73\145\x74\75\42\165\164\x66\x2d\70\42\76\12\11\x9\11\x9\x9\74\x6d\145\164\x61\40\150\164\164\160\55\x65\x71\165\x69\166\75\42\x58\55\x55\x41\x2d\103\157\x6d\160\x61\x74\151\x62\154\145\42\40\143\x6f\x6e\x74\x65\156\164\x3d\42\x49\105\75\x65\144\x67\x65\x22\76\12\x9\11\11\x9\x9\74\x6d\145\x74\x61\x20\x6e\141\x6d\145\x3d\42\x76\x69\145\167\x70\x6f\162\x74\42\x20\x63\157\x6e\164\x65\156\164\x3d\42\167\x69\144\x74\150\75\x64\145\x76\x69\143\145\55\167\x69\x64\164\x68\x2c\40\151\x6e\x69\x74\151\141\154\55\163\143\141\154\x65\75\x31\x2e\60\42\x3e\xa\x9\x9\11\x9\11\x3c\x74\x69\164\x6c\145\76\345\xbe\256\346\x93\x8e\345\256\211\350\243\x85\74\x2f\164\x69\164\x6c\145\76\12\11\11\11\11\74\57\150\x65\x61\x64\x3e\xa\x9\11\11\11\74\x73\164\x79\x6c\145\76\xa\11\x9\x9\x9\11\150\x74\155\154\x2c\x62\x6f\144\171\54\x2e\152\165\x6d\x70\x7b\150\145\x69\x67\150\164\x3a\61\x30\60\166\150\73\167\x69\x64\164\150\x3a\x31\60\x30\x76\167\73\157\166\145\x72\146\x6c\x6f\167\72\150\151\144\144\145\x6e\x3b\x62\141\x63\x6b\x67\x72\157\165\156\144\55\143\x6f\x6c\157\162\72\x23\x66\x66\146\175\x2e\152\x75\155\x70\x7b\x70\157\x73\151\164\x69\157\x6e\72\x72\x65\x6c\141\x74\151\166\145\73\164\145\x78\164\55\141\x6c\x69\147\156\72\143\x65\156\164\x65\162\x7d\56\143\x65\156\164\145\162\x2d\x62\157\170\x7b\x6d\141\x72\147\151\x6e\72\62\x38\x30\160\x78\x20\x61\x75\164\x6f\x20\60\x3b\150\x65\151\147\150\x74\72\62\x33\x30\160\170\x3b\167\151\144\x74\150\x3a\x34\64\x30\160\x78\x3b\x64\151\163\x70\x6c\141\x79\72\x69\x6e\x6c\151\x6e\145\x2d\142\x6c\x6f\x63\153\73\164\145\x78\164\x2d\141\x6c\151\x67\156\72\143\145\156\x74\145\x72\x7d\x2e\152\165\155\x70\x2d\x63\157\x6e\x74\x65\x6e\x74\173\146\157\156\164\x2d\163\151\x7a\x65\72\61\70\x70\x78\73\x6c\x69\x6e\145\x2d\150\145\151\147\150\164\x3a\63\60\x70\170\x3b\143\x6f\x6c\157\x72\72\x23\x36\x36\66\x3b\x66\157\156\164\55\x77\145\x69\x67\150\164\72\63\60\60\x7d\56\x6a\x75\155\160\x2d\x74\x69\160\163\x7b\146\157\x6e\164\x2d\163\x69\x7a\x65\x3a\x31\x34\x70\x78\73\154\151\156\x65\x2d\x68\145\151\147\150\x74\x3a\63\60\x70\x78\x3b\143\x6f\x6c\157\162\72\43\x39\x39\71\175\12\11\11\11\x9\x3c\57\x73\x74\171\x6c\145\x3e\12\11\x9\x9\x9\74\x62\x6f\x64\171\x3e\12\11\11\11\x9\x9\x3c\x64\151\166\x20\143\154\x61\163\163\75\x22\152\165\155\160\x22\x3e\12\11\x9\x9\11\11\x9\74\144\151\166\x20\x63\x6c\x61\x73\x73\75\x22\143\x65\x6e\x74\x65\162\x2d\x62\157\170\x22\76\12\x9\x9\x9\11\x9\x9\11\x3c\151\x6d\x67\x20\163\x72\x63\75\42\150\164\x74\x70\163\72\57\57\x63\x64\x6e\x2e\167\67\x2e\x63\x63\57\x75\x65\x64\x2f\x6a\x75\x6d\x70\x2f\151\x6d\x61\147\145\x2f\152\165\155\x70\x2d\154\x6f\147\157\56\160\156\x67\x22\x20\141\x6c\x74\75\42\42\40\163\x74\171\x6c\x65\x3d\x22\155\141\162\x67\151\156\x2d\x62\x6f\x74\164\x6f\155\72\61\x30\160\170\x22\x3e\xa\11\x9\x9\x9\x9\x9\x9\74\144\x69\166\40\x63\x6c\x61\163\163\x3d\42\152\x75\155\x70\55\x63\157\156\164\145\x6e\164\x22\x3e" . $message . "\74\57\144\x69\x76\x3e\xa\11\11\x9\11\11\x9\x3c\57\x64\151\x76\x3e\12\x9\x9\x9\x9\x9\74\57\144\x69\166\x3e\xa\11\x9\x9\x9\74\x2f\142\157\144\171\76\12\x9\x9\x9\x3c\x2f\150\164\x6d\154\76"; } goto mXDbY; DoKsv: $db_prefix = trim($_POST["\x70\x72\x65\x66\x69\170"]); goto wPzFY; pIuWV: define("\111\x4e\137\x49\101", true); goto iNRWH; RgYFR: $header_array = get_headers($cdn_source_file, 1); goto fFmJw; vrTdC: if (!($action == "\162\x65\147\x69\x73\164\145\162\137\143\x61\154\x6c\x62\141\x63\x6b")) { goto iXnKY; } goto uNqvG; nRhRR: aVqw9: goto Ka5cp; XNNEd: goto xLc3K; goto fTqVP; RjzAd: a0Lwm: goto fyBAF; TkXld: szl0i: goto a23J4; mozlf: QPYL8: goto QMWDB; PpsP4: nhBuw: goto mdYqD; Od0R2: if (!($register_site_result !== true)) { goto kjFaw; } goto Gmpcc; hy3Pk: vhRJ9: goto FWdSR; aos61: zyzCZ: goto NTNFd; h10K9: $database_result = we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix); goto nXkHa; nKaLb: $database_result = we7_db(); goto HfsBA; qSVbw: we7_handle_chunk(); goto GmHFF; NvoJ9: if (!(!empty($ret["\x73\x65\x73\163\x69\x6f\156"]["\157\153"]) && strtolower($ret["\x73\145\163\x73\x69\x6f\x6e"]["\157\153"]) == "\157\x6e")) { goto T9aTs; } goto sJtqe; zYCLm: viyke: goto BQ5cl; FSiFa: @unlink(IA_INSTALL_ROOT . "\57\144\x61\164\x61\57\x6c\157\147\163\x2f\x64\x61\164\141\x2e\152\163\x6f\x6e"); goto fZ_4h; vaVq3: if (!($action == "\x65\x6e\x76\x69\x72\x6f\156\155\145\156\164")) { goto COK5y; } goto bFEv9; A7753: $ret["\141\154\x77\x61\171\163\x5f\160\x6f\x70\x75\x6c\x61\164\x65\137\x72\x61\x77\137\160\x6f\x73\164\137\x64\x61\x74\141"]["\x6e\x61\x6d\145"] = "\x61\x6c\167\141\x79\163\137\160\x6f\x70\165\x6c\x61\164\145\137\162\x61\x77\x5f\160\157\x73\164\x5f\x64\x61\x74\x61\xe9\205\x8d\xe7\275\256"; goto QkooD; FRoPK: $username = trim(empty($_POST["\165\163\x65\162\156\x61\155\145"]) ? '' : $_POST["\x75\x73\145\x72\156\141\155\x65"]); goto siy6q; KeFPQ: $data = we7_request_api(API_SITE_REGISTER_EXIST, array("\165\162\154" => $siteroot)); goto K5H3J; pbU_t: $ret["\144\x61\164\x61"]["\156\141\x6d\145"] = "\x64\141\x74\141\xe7\x9b\xae\345\275\225\345\x86\231\345\x85\xa5"; goto I6sew; zWx4d: $error = json_decode($data["\145\x72\x72\157\162"], true); goto iwsB1; GJXPw: function we7_need_extension() { return array("\172\x69\x70", "\x70\x64\x6f", "\x70\x64\157\137\x6d\x79\x73\161\x6c", "\157\x70\145\156\x73\163\x6c", "\x67\144", "\155\142\x73\164\x72\151\156\147", "\x6d\143\162\x79\x70\x74", "\143\165\x72\x6c"); } goto bUoxO; vzcaW: exit(we7_error_page($info)); goto NlDwF; WtfMp: header("\x4c\157\x63\x61\164\151\157\156\x3a\x20" . $forward); goto xujMy; CyURB: exit(we7_error(400, "\xe4\xbf\256\346\224\xb9\xe7\x94\250\346\210\xb7\345\x90\x8d\xe5\xaf\206\347\240\x81\345\xa4\261\xe8\xb4\245\x2e")); goto p7I5u; fd0XF: exit(we7_error(419, $database_result)); goto S9Jxf; edQ3g: if (!empty($source_size)) { goto wAh_3; } goto RgYFR; P1etv: $host = strpos($_SERVER["\110\124\x54\x50\137\x48\x4f\123\x54"], "\72") ? parse_url($_SERVER["\x48\124\x54\x50\x5f\110\x4f\x53\124"], PHP_URL_HOST) : $_SERVER["\x48\x54\x54\x50\x5f\110\117\x53\x54"]; goto EcTj8; E11Qz: $download_size = filesize("\56\x2f\x77\x65\x37\x73\157\165\x72\x63\x65\x2e\x7a\x69\160"); goto P3Fx8; fTqVP: V9ZrW: goto VynvQ; FX_1F: set_error_handler("\150\141\x6e\x64\154\145\105\162\x72\157\x72"); goto a77Ui; iwsB1: $info = "\344\272\x91\346\234\x8d\345\x8a\241\xe5\x87\272\xe4\272\206\347\x82\271\351\227\256\351\xa2\230\xef\xbc\214\xe8\xaf\xb7\xe8\x81\224\347\xb3\xbb\345\256\x98\346\226\271\xe5\244\204\xe7\x90\206\xe6\x88\x96\40\x3c\x61\x20\163\x74\x79\x6c\x65\x3d\x22\143\157\x6c\157\x72\x3a\x23\x33\x32\71\66\146\x61\x3b\164\145\170\164\x2d\144\145\143\157\x72\141\x74\151\157\156\72\156\x6f\156\x65\42\40\150\x72\145\x66\x3d" . $install_url . "\76\351\207\215\xe6\x96\xb0\347\x99\xbb\345\275\225\x3c\x2f\x61\76\40\xe3\200\202\x3c\142\162\76" . ($error["\145\x72\162\x6f\162"] ? "\xe8\xaf\xa6\346\203\x85\xef\xbc\x9a" . $error["\145\162\162\157\162"] : ''); goto fEdYZ; DYi3m: clearstatcache(); goto tYjbJ; jDYQ0: $forward = $data["\x75\x72\x6c"]; goto WtfMp; VaYze: exit(we7_error(400, $chunk_num)); goto l3ynT; q7_25: yQUi2: goto SZdja; u0faG: IRr0n: goto lUAMG; jYHDb: F8UhE: goto gYsA1; BQ5cl: exit(we7_error(433, "\x61\143\x63\x65\x73\x73\164\x6f\153\x65\x6e\40\x65\x78\160\151\162\x65\x64\56")); goto CT12x; CB81Q: if (!($action == "\154\x6f\147\151\x6e")) { goto PR6c1; } goto nxirI; fyBAF: llWwp: goto vaVq3; VfT9l: header("\101\x63\143\145\163\163\x2d\103\x6f\156\x74\162\x6f\x6c\x2d\101\154\x6c\157\167\55\117\162\x69\x67\x69\x6e\72" . $_SERVER["\110\x54\x54\x50\x5f\117\x52\x49\107\111\x4e"]); goto bqaTK; CEu9B: $dbfile = IA_INSTALL_ROOT . "\x2f\x64\141\164\x61\57\x64\142\55\x31\x2e\170\x2e\160\x68\160"; goto ZQEN5; MdgXq: set_time_limit(0); goto QEe6I; sSKpR: exit(we7_error(0, $chunk_num)); goto g3Koq; MbKy_: function we7_finish() { goto Reg0m; DXcR4: SJdOe: goto O44Ih; O44Ih: $i++; goto q5Wpc; q5Wpc: goto a_NPL; goto i6Bp_; zu5lU: cache_build_users_struct(); goto ivTlZ; gaSCa: cloud_api("\x77\x65\x37\x2f\163\151\x74\145\57\x63\157\156\163\157\154\145\57\166\151\x73\151\x62\x6c\x65", array("\166\151\x73\151\142\x6c\145" => 1), array("\156\157\143\141\143\x68\x65" => true)); goto d3d8K; qmjx3: cache_build_setting(); goto zu5lU; EiCaT: load()->model("\163\145\164\164\x69\x6e\x67"); goto PPcEc; gX30B: a_NPL: goto syeTd; K3D1b: @unlink(IA_INSTALL_ROOT . "\x2f\x63\157\x6e\x73\157\x6c\x65\x2e\160\150\160"); goto pLGpT; YpVJd: define("\x49\116\x5f\123\131\123", true); goto JYAdL; f5IHx: @unlink(IA_INSTALL_ROOT . "\57\144\141\164\141\57\154\x6f\147\163\x2f\151\x6e\163\164\x61\154\154\55" . date("\131\155\x64") . "\x2e\x70\x68\x70"); goto D0isJ; VESKN: load()->model("\143\x6c\157\165\144"); goto jdXKo; Reg0m: global $_W, $siteroot; goto blWd_; blWd_: $chunk_num = we7_getcookie("\x63\150\x75\156\153\137\164\157\x74\141\x6c"); goto HbUBl; H6jnm: $_W["\165\151\144"] = $_W["\151\x73\146\157\x75\156\144\x65\x72"] = 1; goto M6gqj; NvPN2: we7_setcookie("\160\141\143\153\x61\147\145\x5f\155\144\65", '', -10); goto GfLiu; rMBXE: @unlink(IA_INSTALL_ROOT . "\x2f\x64\x61\x74\x61\57\144\142\x2e\154\x6f\x63\153"); goto K3D1b; pLGpT: @unlink(IA_INSTALL_ROOT . "\x2f\x69\x6e\x69\x74\x2e\163\150"); goto YGFoF; d3d8K: cache_build_frame_menu(); goto qmjx3; syeTd: if (!($i <= $chunk_num)) { goto dmpWw; } goto LBcQ2; M6gqj: load()->web("\x63\x6f\155\x6d\x6f\x6e"); goto uAzmW; jdXKo: we7_setcookie("\x69\155\x73\x5f\x66\x61\155\151\154\x79", ''); goto xz72h; i6Bp_: dmpWw: goto NvPN2; VX65e: @unlink(IA_INSTALL_ROOT . "\x2f\127\x65\x45\x6e\147\151\156\145\56\x63\x6f\156\146"); goto hdQBZ; QB6D1: require IA_INSTALL_ROOT . "\x2f\167\x65\x62\x2f\x63\157\155\155\x6f\156\x2f\x62\x6f\157\164\x73\164\162\x61\160\x2e\163\x79\163\56\151\156\x63\56\160\150\x70"; goto H6jnm; HbUBl: @unlink("\56\x2f\x77\145\67\163\157\x75\162\x63\145\56\172\151\160"); goto iEFW_; iEFW_: $i = 1; goto gX30B; PPcEc: load()->model("\143\x61\x63\x68\145"); goto VESKN; PYBo5: @unlink(IA_INSTALL_ROOT . "\57\x64\x61\164\x61\x2f\x64\x62\x2d\61\56\170\x2e\x70\150\160"); goto rMBXE; xz72h: we7_request_api(API_OAUTH_RESET_SITEINFO, array("\165\x72\154" => $siteroot, "\151\156\x73\x74\141\154\154" => 1)); goto gaSCa; JYAdL: require IA_INSTALL_ROOT . "\57\146\x72\x61\x6d\x65\x77\x6f\x72\153\x2f\x62\x6f\x6f\164\x73\x74\x72\x61\160\56\151\156\143\x2e\160\150\x70"; goto QB6D1; D0isJ: @rmdir(IA_INSTALL_ROOT . "\x2f\167\67\137\x70\162\157\163\57\x64\x61\164\141"); goto LkVun; uAzmW: load()->web("\x74\145\155\160\x6c\141\x74\145"); goto EiCaT; LkVun: @rmdir(IA_INSTALL_ROOT . "\57\167\67\x5f\x70\x72\x6f\163"); goto YpVJd; GfLiu: we7_setcookie("\x63\150\x75\x6e\x6b\x5f\x74\x6f\x74\141\154", '', -10); goto PYBo5; r8YNW: return true; goto nz30d; qUpco: @unlink(IA_INSTALL_ROOT . "\57\104\x6f\x63\153\x65\162\146\151\x6c\145"); goto VX65e; hdQBZ: @unlink(IA_INSTALL_ROOT . "\x2f\x64\x61\x74\x61\57\x6c\x6f\147\x73\57\x65\162\162\x6f\x72\137\154\157\147\x2e\x70\150\160"); goto f5IHx; YGFoF: @unlink(IA_INSTALL_ROOT . "\57\x63\x68\x61\156\x67\x65\x2e\x73\x68"); goto qUpco; ivTlZ: cache_build_module_subscribe_type(); goto r8YNW; LBcQ2: @unlink("\56\x2f\x63\x68\x75\x6e\153\137" . $i); goto DXcR4; nz30d: } goto kAojp; mraqf: function get_client_ip() { goto j3bpq; jfIiJ: goto sLqoM; goto zIRGH; E7Qgh: goto sLqoM; goto D6BqS; T9n4R: b2Y6Z: goto DIscW; hj1W4: gfsCR: goto V9Hvs; DIscW: $ip = $_SERVER["\x48\124\124\120\x5f\103\114\x49\105\x4e\124\137\x49\120"]; goto E7Qgh; FFcdF: if (isset($_SERVER["\110\124\124\x50\x5f\130\x5f\106\117\122\x57\101\122\x44\105\x44\137\x46\x4f\x52"]) && preg_match_all("\43\x5c\x64\x7b\61\x2c\x33\x7d\x5c\56\x5c\144\x7b\x31\54\63\x7d\134\x2e\x5c\x64\173\x31\54\x33\175\x5c\x2e\x5c\144\173\61\54\63\175\x23\x73", $_SERVER["\x48\124\124\x50\137\130\x5f\106\117\x52\127\101\x52\104\105\104\137\x46\117\122"], $matches)) { goto qe5dF; } goto jfIiJ; dpIeJ: goto UI6B6; goto S3VyF; j3bpq: static $ip = ''; goto oTFA_; cLFMs: goto sLqoM; goto T9n4R; sLP9Z: $ip = $_SERVER["\x52\105\115\x4f\x54\105\x5f\101\x44\x44\122"]; goto iVb8q; FXLJG: UI6B6: goto CpwXZ; XgTGt: if (isset($_SERVER["\110\x54\124\120\x5f\x43\104\x4e\137\x53\122\x43\137\x49\120"])) { goto NY_GJ; } goto Y_sT6; wVk2z: foreach ($matches[0] as $xip) { goto gCxC1; M6q_4: goto gfsCR; goto T8Gd3; c4T9N: L3FqE: goto fDi90; gCxC1: if (preg_match("\x23\x5e\x28\61\60\x7c\61\x37\x32\134\x2e\x31\x36\x7c\61\71\62\x5c\x2e\x31\66\x38\51\x5c\56\43", $xip)) { goto buti0; } goto dJLgr; T8Gd3: buti0: goto c4T9N; dJLgr: $ip = $xip; goto M6q_4; fDi90: } goto hj1W4; tv6Bm: if (preg_match("\x2f\x5e\x28\133\60\x2d\71\x5d\x7b\61\54\x33\175\134\x2e\51\x7b\63\x7d\x5b\x30\55\x39\135\x7b\61\x2c\63\175\44\x2f", $ip)) { goto JNWsp; } goto x00fA; oTFA_: if (!isset($_SERVER["\122\x45\x4d\117\124\x45\x5f\x41\x44\104\122"])) { goto IO3zy; } goto sLP9Z; S3VyF: JNWsp: goto C2Dcx; C2Dcx: return $ip; goto FXLJG; dwFnS: $ip = $_SERVER["\x48\x54\124\x50\x5f\x43\x44\116\x5f\123\122\x43\137\x49\120"]; goto cLFMs; x00fA: return "\x31\x32\x37\56\60\x2e\x30\56\x31"; goto dpIeJ; Y_sT6: if (isset($_SERVER["\x48\124\124\120\137\103\114\x49\x45\116\124\137\111\x50"])) { goto b2Y6Z; } goto FFcdF; zIRGH: NY_GJ: goto dwFnS; V9Hvs: sLqoM: goto tv6Bm; D6BqS: qe5dF: goto wVk2z; iVb8q: IO3zy: goto XgTGt; CpwXZ: } goto q21fs; CT12x: ufK4u: goto tGOFb; g3Koq: JMZYe: goto n1d_l; kLcfo: $url = $siteroot . "\57\151\x6e\163\x74\141\x6c\154\x2e\160\x68\160\77\x73\x74\145\x70\75\x6f\141\165\164\150"; goto qBJfl; maBlO: nAUxy: goto mzriU; GT5_p: oLEJx: goto ffmqc; Q3pW9: iC_yR: goto TRR5X; BPBiW: fNDwc: goto I3KJy; vXvjl: $result = file_put_contents("\56\x2f\143\x68\165\156\153\x5f" . $chunk_num, $data); goto LsGVQ; SH9nG: tw69b: goto ijIml; ggxfC: we7_setcookie("\143\x64\156\137\163\x6f\165\162\x63\145\137\x73\x69\x7a\x65", $source_size); goto sL7XL; soh7c: define("\x41\x50\111\137\117\101\125\x54\x48\137\x41\103\103\x45\x53\123\x54\117\113\105\116", API_HOST . "\57\x73\151\x74\x65\x2f\162\145\x67\151\x73\164\145\162\x2f\x61\143\143\x65\x73\163\164\157\x6b\145\156\57\x77\x69\164\150\55\143\157\144\x65"); goto QiC_L; FAXBo: $ret["\141\163\160\137\x74\x61\x67\x73"]["\157\153"] = ini_get("\141\x73\x70\x5f\164\x61\147\163"); goto OPk4P; jhNWF: $action = !empty($_GET["\x73\164\145\x70"]) ? $_GET["\163\x74\145\160"] : ''; goto DAoG_; JfFgs: $data = we7_request_api(API_GET_PACKAGE_MD5_AND_CHUNKTOTAL, array("\x61\143\x63\145\x73\163\x5f\x74\157\x6b\145\156" => $accesstoken)); goto TDS1r; brELv: $actions = array("\x63\150\145\x63\x6b\137\163\x69\x74\x65", "\x6f\x61\x75\x74\x68", "\x65\156\166\x69\x72\x6f\x6e\155\145\x6e\164", "\151\x6e\x73\x74\141\154\x6c", "\x63\150\165\156\153\x74\x6f\164\x61\154", "\x64\x6f\x77\156\x6c\x6f\141\x64\x5f\x70\145\162\x63\145\x6e\164", "\x64\x6f\x77\156\x6c\x6f\x61\144", "\x72\x65\147\x69\163\164\145\x72\x5f\143\x61\x6c\154\142\x61\x63\x6b", "\154\x6f\x67\151\x6e", "\x67\145\x74\x5f\143\x6f\x6e\146\x69\147", "\x74\x6f\165\143\150"); goto jhNWF; Y9vW7: Rtc12: goto mcbWC; WKalj: $output = fread($hostfile, 8192); goto bSW2Z; OboWl: function local_create_sql($schema, $local_create_sql) { goto qC16d; G4VeJ: tnHJ7: goto YoSpY; sDI8V: $engine = $local_create_sql ? $schema["\x65\156\147\x69\156\x65"] : "\x4d\x79\111\x53\x41\115"; goto xOcpa; YoSpY: $sql = rtrim($sql); goto o1umn; Ty5fw: vEGUw: goto mnOJB; xOcpa: $sql = "\x43\122\105\101\124\105\40\x54\x41\x42\x4c\105\40\111\x46\40\x4e\117\124\40\105\x58\111\x53\124\x53\40\x60{$schema["\x74\x61\x62\x6c\x65\x6e\x61\x6d\x65"]}\140\40\50\12"; goto O_AQ_; O_AQ_: foreach ($schema["\x66\x69\145\x6c\x64\x73"] as $value) { goto O6COM; pQ3uo: $increment = ''; goto Kf3Er; xmR5A: if ($value["\x69\x6e\143\162\x65\155\x65\156\x74"]) { goto ZcecQ; } goto pQ3uo; t3F9H: $increment = "\x20\x41\x55\124\117\137\111\116\103\122\x45\x4d\105\116\x54"; goto k3aqC; Kf3Er: goto hioiJ; goto mXH_V; XXBE_: WRK2E: goto xyJby; xyJby: $default = "\40\104\x45\106\101\x55\114\x54\x20\x27" . $value["\x64\x65\x66\141\165\154\164"] . "\47"; goto YxlYA; O6COM: if (!empty($value["\x6c\145\156\x67\x74\x68"])) { goto q22mY; } goto Mfk0C; IBimD: goto ZlGn2; goto LO7Ep; q5wKh: $sql .= "\x60{$value["\x6e\x61\x6d\145"]}\x60\x20{$value["\164\171\x70\x65"]}{$length}{$signed}{$null}{$default}{$increment}\x2c\xa"; goto C2rM9; xtoqq: goto l1dWN; goto K2yP0; oLk2o: $length = "\50{$value["\154\x65\156\147\x74\150"]}\x29"; goto N5lWE; Gz_M9: if (isset($value["\144\x65\146\141\165\x6c\x74"])) { goto WRK2E; } goto F_nNu; Whq_z: $signed = empty($value["\x73\151\x67\156\145\x64"]) ? "\x20\165\x6e\x73\151\x67\x6e\x65\x64" : ''; goto om94J; Mfk0C: $length = ''; goto xtoqq; gye1Z: $null = "\x20\x4e\x4f\124\x20\116\x55\114\114"; goto Iu3wa; om94J: if (empty($value["\156\165\x6c\154"])) { goto U1JIw; } goto K_Br_; C2rM9: bbLKp: goto Gk9t4; K_Br_: $null = ''; goto IBimD; It5dd: goto RisEE; goto XXBE_; LO7Ep: U1JIw: goto gye1Z; YxlYA: RisEE: goto xmR5A; mXH_V: ZcecQ: goto t3F9H; K2yP0: q22mY: goto oLk2o; Iu3wa: ZlGn2: goto Gz_M9; N5lWE: l1dWN: goto Whq_z; F_nNu: $default = ''; goto It5dd; k3aqC: hioiJ: goto q5wKh; Gk9t4: } goto Ty5fw; qC16d: $pieces = explode("\x5f", $schema["\x63\150\141\162\x73\x65\164"]); goto fH3EI; mnOJB: foreach ($schema["\151\156\x64\x65\x78\145\x73"] as $value) { goto nnZ9M; mVWpb: if (!($value["\164\171\x70\145"] == "\x75\x6e\151\x71\165\145")) { goto DuLDi; } goto SHxCC; SHxCC: $sql .= "\125\x4e\x49\121\x55\105\40\x4b\x45\x59\x20\x60{$value["\156\x61\x6d\x65"]}\140\x20\50\x60{$fields}\140\51\x2c\xa"; goto w2o8b; nnZ9M: $fields = implode("\x60\54\140", $value["\x66\151\x65\x6c\144\163"]); goto UBtgM; HYLv0: $sql .= "\120\x52\x49\x4d\x41\122\x59\x20\x4b\x45\131\x20\x28\x60{$fields}\x60\51\54\xa"; goto IxrP6; XOQ3P: l5FTu: goto Ea7R_; w2o8b: DuLDi: goto M1hnA; OYfqE: $sql .= "\113\x45\x59\x20\x60{$value["\156\x61\155\x65"]}\140\40\50\x60{$fields}\x60\51\54\12"; goto I0qLZ; IxrP6: b40ry: goto XOQ3P; I0qLZ: mU7dN: goto mVWpb; M1hnA: if (!($value["\164\171\x70\x65"] == "\160\x72\x69\155\x61\x72\171")) { goto b40ry; } goto HYLv0; UBtgM: if (!($value["\164\171\160\145"] == "\151\156\144\145\x78")) { goto mU7dN; } goto OYfqE; Ea7R_: } goto G4VeJ; fH3EI: $charset = $pieces[0]; goto sDI8V; o1umn: $sql = rtrim($sql, "\x2c"); goto GlLFL; KmW5O: return $sql; goto NQMLN; GlLFL: $sql .= "\xa\51\40\x45\x4e\x47\111\116\105\x3d{$engine}\x20\104\x45\x46\101\x55\x4c\124\x20\103\110\x41\122\123\105\124\75{$charset}\x3b\xa\xa"; goto KmW5O; NQMLN: } goto ldBCo; MApm3: Y0HcC: goto kLcfo; bFEv9: $server["\165\x70\154\157\x61\x64"] = @ini_get("\x66\151\x6c\x65\x5f\x75\x70\x6c\157\x61\x64\x73") ? ini_get("\x75\160\x6c\x6f\x61\144\x5f\x6d\141\x78\137\146\x69\154\145\163\x69\172\x65") : "\x75\x6e\153\156\157\x77"; goto FR5rP; GmHFF: GA8Ow: goto la6EI; SZdja: if (!(version_compare(PHP_VERSION, "\x37\56\x30\x2e\60") == -1 && version_compare(PHP_VERSION, "\x35\x2e\66\56\60") >= 0)) { goto Xs48x; } goto nsgHP; GhnaA: function we7_pdo($link, $method, $sql) { goto xIiOd; vNpr5: tOD3c: goto EcpKx; xIiOd: if (!(empty($link) || empty($method) || empty($sql))) { goto mKzXD; } goto cfgXg; uCNKL: if ($link instanceof PDO) { goto tOD3c; } goto zNfiV; uXxtN: if (!($statement->errorCode() != "\60\x30\60\x30\x30")) { goto yhEmN; } goto TIQw3; y63Fy: Lz43P: goto HLUQz; EcpKx: $statement = $link->{$method}($sql); goto F6dhn; F30G2: return false; goto vNpr5; cfgXg: return false; goto TdLQV; nc3nv: if ($statement instanceof PDOStatement) { goto OYBID; } goto eOQWt; AX_SL: $result = $statement->fetch(); goto uXxtN; gQDgf: return false; goto L3XxA; JnQzg: trigger_error($errorInfo[0] . "\x3a\x20" . $errorInfo[2], E_USER_WARNING); goto Oi0GF; XjkfW: OYBID: goto AX_SL; Oi0GF: return false; goto ErhqV; eOQWt: $result = $statement; goto M_tTH; M_tTH: goto Lz43P; goto XjkfW; TdLQV: mKzXD: goto uCNKL; ErhqV: PA6Hn: goto nc3nv; TIQw3: $errorInfo = $statement->errorInfo(); goto q84wv; q84wv: trigger_error($errorInfo[0] . "\x3a\x20" . $errorInfo[2], E_USER_WARNING); goto gQDgf; irabE: $errorInfo = $link->errorInfo(); goto JnQzg; HLUQz: return $result; goto HNaMq; F6dhn: if (!($link->errorCode() != "\60\60\x30\60\x30")) { goto PA6Hn; } goto irabE; L3XxA: yhEmN: goto y63Fy; zNfiV: trigger_error("\x24\x6c\x69\x6e\x6b\xe4\xb8\x8d\xe6\230\257\346\234\x89\346\x95\x88\347\232\204\346\225\260\346\x8d\xae\xe5\272\x93\xe8\xbf\x9e\xe6\x8e\xa5\x3a" . (string) $link); goto F30G2; HNaMq: } goto pwUDT; zPyab: Ily79: goto k57AW; NFFJF: HIGOT: goto OZwHk; bSW2Z: fwrite($fh, $output); goto mkKTJ; nxirI: $sitename = trim(empty($_POST["\x73\151\164\145\x6e\x61\155\x65"]) ? '' : $_POST["\163\x69\164\145\x6e\x61\155\x65"]); goto FRoPK; OPk4P: if (!(!empty($ret["\141\163\160\137\x74\x61\x67\163"]["\157\x6b"]) && strtolower($ret["\141\x73\x70\137\x74\x61\x67\163"]["\157\x6b"]) == "\157\156")) { goto aYXR0; } goto zx6ub; zhX_z: $ret["\x72\x6f\157\x74"]["\157\x6b"] = local_writeable(IA_INSTALL_ROOT); goto FpaFv; wPqtZ: function file_log($logData, $fileName = ERROR_LOG_FILE) { goto VsIql; Ej9Zv: pc31b: goto Wi99F; opyFu: $fh = fopen($fileName, "\x61\x2b"); goto mJQWs; BhRLF: $status = fwrite($fh, $logData); goto iRSyI; rlydR: local_mkdirs("\144\141\x74\141\57\x6c\157\x67\x73"); goto nDxlI; Wi99F: $logData = "\x3c\x3f\160\150\160\x20\145\170\x69\x74\x3b\x3f\x3e" . PHP_EOL . $logData; goto BhRLF; mJQWs: if (!is_array($logData)) { goto pc31b; } goto GtTLa; GtTLa: $logData = print_r($logData, 1); goto Ej9Zv; VsIql: if (is_dir("\x64\141\x74\141\57\x6c\x6f\147\x73")) { goto zQDY9; } goto rlydR; ezdxQ: return (bool) $status; goto i9TwR; iRSyI: fclose($fh); goto ezdxQ; nDxlI: zQDY9: goto opyFu; i9TwR: } goto hPXiO; NlDwF: tXduR: goto B7vPH; oQX_P: if (preg_match(REGULAR_USERNAME, $username)) { goto gfF0c; } goto BDOU3; GBmk1: aYXR0: goto zhX_z; lu_N0: gfF0c: goto W8l3i; bgnTG: exit(we7_error(0, "\163\165\143\x63\145\163\x73")); goto smpAH; T9lOO: zr5hk: goto lySt9; wJYJV: $cdn_source_file = we7_getcookie("\x63\144\156\x5f\x73\157\x75\x72\x63\145\x5f\165\x72\154"); goto UC22f; ldBCo: function install_authcode($string, $operation = "\104\105\103\117\104\105", $key = '', $expiry = 0) { goto KKw6o; Ug5MV: $result .= chr(ord($string[$i]) ^ $box[($box[$a] + $box[$j]) % 256]); goto M8r8w; e7UHR: if (!($i < 256)) { goto QnN82; } goto wCvQZ; l9LYn: $j = $i = 0; goto sRqUz; yYKsu: tXXKW: goto l9LYn; Ag3u0: nEdEA: goto mmeqx; SpBWd: l426D: goto LWjpg; NqghC: $tmp = $box[$a]; goto GdAR9; hgu5d: goto gs8Rf; goto OIxMc; XUu_A: $result = ''; goto Mc6JV; BTsq8: $j = ($j + $box[$a]) % 256; goto NqghC; tzBK4: goto vlxqt; goto yYKsu; FtNPO: $a = ($a + 1) % 256; goto BTsq8; mmeqx: $i++; goto ZhLkv; I_YWC: $keyc = $ckey_length ? $operation == "\x44\x45\x43\x4f\104\105" ? substr($string, 0, $ckey_length) : substr(md5(microtime()), -$ckey_length) : ''; goto qt3Vd; LWjpg: $i++; goto tzBK4; jAQ1s: Jx3XV: goto qZ24n; tl0NG: gs8Rf: goto Q_JSA; mjOoq: return $keyc . str_replace("\75", '', base64_encode($result)); goto UJWH4; M8r8w: gDVcB: goto xQinN; LogwK: QnN82: goto zY7A7; xQinN: $i++; goto hgu5d; Ufn5J: HJk_F: goto pozCk; RT1aE: $rndkey = array(); goto L_Rq1; eofxO: $keya = md5(substr($key, 0, 16)); goto FfAUW; e7AkZ: return ''; goto Pw10v; Q_JSA: if (!($i < $string_length)) { goto sKjc2; } goto FtNPO; qZ24n: WFhDj: goto fzvzA; I9n7_: $tmp = $box[$i]; goto p7n5v; zY7A7: $a = $j = $i = 0; goto tl0NG; k2XFZ: if (!($i <= 255)) { goto tXXKW; } goto KFgLB; EdTlb: vlxqt: goto k2XFZ; ZhLkv: goto UsnwL; goto LogwK; wCvQZ: $j = ($j + $box[$i] + $rndkey[$i]) % 256; goto I9n7_; UJWH4: goto WFhDj; goto Ufn5J; A_F2O: $box[$j] = $tmp; goto Ag3u0; dQ7S2: $box[$j] = $tmp; goto Ug5MV; gittD: $key = md5($key != '' ? $key : $GLOBALS["\x5f\x57"]["\143\x6f\156\x66\151\147"]["\x73\145\164\x74\x69\x6e\x67"]["\141\165\164\150\153\x65\171"]); goto eofxO; Mc6JV: $box = range(0, 255); goto RT1aE; L_Rq1: $i = 0; goto EdTlb; Pw10v: goto Jx3XV; goto uadpl; p7n5v: $box[$i] = $box[$j]; goto A_F2O; UTlLP: $string_length = strlen($string); goto XUu_A; SgrzA: return substr($result, 26); goto jAQ1s; GdAR9: $box[$a] = $box[$j]; goto dQ7S2; uadpl: DOPz1: goto SgrzA; kJKBt: if ($operation == "\x44\x45\x43\117\x44\105") { goto HJk_F; } goto mjOoq; OIxMc: sKjc2: goto kJKBt; ld9Ow: $string = $operation == "\x44\x45\103\x4f\104\105" ? base64_decode(substr($string, $ckey_length)) : sprintf("\x25\x30\61\x30\144", $expiry ? $expiry + time() : 0) . substr(md5($string . $keyb), 0, 16) . $string; goto UTlLP; ZMSAE: $key_length = strlen($cryptkey); goto ld9Ow; sRqUz: UsnwL: goto e7UHR; FfAUW: $keyb = md5(substr($key, 16, 16)); goto I_YWC; qt3Vd: $cryptkey = $keya . md5($keya . $keyc); goto ZMSAE; KKw6o: $ckey_length = 4; goto gittD; KFgLB: $rndkey[$i] = ord($cryptkey[$i % $key_length]); goto SpBWd; pozCk: if ((substr($result, 0, 10) == 0 || substr($result, 0, 10) - time() > 0) && substr($result, 10, 16) == substr(md5(substr($result, 26) . $keyb), 0, 16)) { goto DOPz1; } goto e7AkZ; fzvzA: } goto NDQux; NGlTP: PL0Mn: goto chO5X; e5Sch: goto a0Lwm; goto MApm3; qpUNw: exit; goto e5Sch; sJtqe: $ret["\x73\145\x73\x73\x69\x6f\x6e"]["\146\141\x69\x6c\x65\x64"] = true; goto voft0; ZQEN5: if (file_exists(IA_INSTALL_ROOT . "\57\151\x6e\x64\x65\x78\x2e\160\150\160") && is_dir(IA_INSTALL_ROOT . "\57\167\145\142") && file_exists($dbfile)) { goto jtaKS; } goto Ev3hk; BjIjj: exit(we7_error(432, "\350\xaf\267\345\205\210\350\x8e\267\345\217\226\xe5\210\206\xe5\x8d\267\346\x80\273\xe9\x87\x8f\56")); goto Qh94J; S9Jxf: yIThv: goto zptar; z3CzS: exit(we7_error(419, "\xe6\225\xb0\346\215\256\345\272\223\345\xaf\206\xe7\xa0\x81\344\xb8\x8d\345\217\257\344\270\xba\xe7\251\272\41")); goto rFHhE; AgEOc: if (!empty($db_password)) { goto dPjwO; } goto z3CzS; zRhN_: Xs48x: goto P1etv; odKy3: $ret["\x64\141\x74\x61"]["\x66\x61\151\154\145\144"] = true; goto pbU_t; Z_jD8: goto ufK4u; goto zYCLm; gYsA1: if (!($i <= $chunk_total)) { goto iC_yR; } goto z8Hgu; pMPNT: $auth = @json_decode(base64_decode($post), true); goto bSGWX; YerDs: define("\x45\122\x52\117\x52\x5f\x4c\x4f\107\137\106\111\x4c\105", "\56\57\144\x61\164\x61\x2f\x6c\x6f\147\163\x2f\145\162\x72\x6f\162\x5f\154\157\x67\56\x70\150\x70"); goto FX_1F; unqcl: COK5y: goto l500G; IIfo3: header("\101\143\x63\x65\x73\x73\x2d\103\157\x6e\164\x72\x6f\x6c\x2d\x41\x6c\x6c\x6f\x77\55\x48\x65\x61\x64\x65\x72\x73\x3a\117\x72\x69\x67\x69\x6e\54\x58\55\x52\x65\x71\x75\x65\163\164\145\144\x2d\x57\x69\x74\x68\x2c\x43\x6f\156\x74\x65\156\164\x2d\124\x79\160\145\54\101\143\143\x65\160\164\54\x41\x75\x74\150\x6f\x72\x69\x7a\141\x74\151\157\156\54\143\141\x6e\x63\x65\154\154\x6f\141\144"); goto UeO_W; RC6D8: $ret["\x66\157\x70\x65\x6e"]["\x72\145\x73\165\154\164"] = "\344\xb8\x8d\xe6\224\xaf\346\x8c\201\x66\157\x70\145\156"; goto GT5_p; LKjKR: wvObA: goto AFpr7; K5H3J: if (!empty($data) && $data["\x73\x74\141\164\165\163"] == 1) { goto H0c1U; } goto dFltH; JzDqN: exit(we7_error(0, null)); goto Q2eAW; zG4bc: exit(we7_error(400, "\xe4\xbf\xae\xe6\x94\271\347\253\231\xe7\x82\271\345\x90\x8d\xe7\xa7\xb0\xe5\xa4\xb1\350\264\245\56")); goto NFFJF; NH1Lg: define("\101\120\111\x5f\x53\x49\x54\x45\x5f\x52\x45\x47\111\123\124\105\x52\137\x45\x58\111\123\124", API_HOST . "\57\x73\x69\x74\145\x2f\162\145\147\151\163\164\x65\x72\57\145\170\151\163\164"); goto OwChy; lUAMG: $ret["\x64\x61\164\141"]["\157\x6b"] = local_writeable(IA_INSTALL_ROOT . "\x2f\x64\141\x74\x61"); goto fGfr2; eEB0L: $action = "\x6f\141\x75\x74\x68"; goto Gr9EN; AKBo5: $error = json_decode($data["\145\x72\x72\157\x72"], true); goto gVf40; Gmpcc: exit(we7_error(430, $register_site_result)); goto dCWm3; BODeQ: exit(we7_error(400, $chunk_num)); goto XNNEd; XuwrO: we7_setcookie("\143\150\x75\156\153\137\164\157\164\x61\154", $data["\143\150\165\156\153\137\164\x6f\164\141\x6c"]); goto ZazY_; Aervh: $ret["\162\x6f\157\x74"]["\162\145\x73\x75\x6c\164"] = "\346\234\xac\xe5\x9c\xb0\347\x9b\256\xe5\xbd\x95\xe6\x97\240\346\263\225\345\206\231\345\x85\xa5"; goto u0faG; tGOFb: SkZnU: goto hy3Pk; zWwRw: define("\x49\x4e\137\123\131\123", true); goto vn05e; pwUDT: function we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix) { goto q9rni; bNEQQ: return $error; goto OZL3T; fYMGq: $result = file_put_contents(IA_INSTALL_ROOT . "\x2f\143\x6f\156\146\x69\147\55\x31\56\x78\56\x70\x68\x70", $config); goto Bx4Qc; nyv4E: $error = ''; goto g8Z_e; R4sDb: $config = str_replace(array("\173\x44\x42\x5f\x48\117\123\x54\x7d", "\173\x44\102\137\125\x53\x45\122\116\101\115\105\x7d", "\173\x44\102\x5f\x50\101\x53\x53\127\117\x52\104\175", "\173\104\102\x5f\120\x4f\x52\x54\175", "\173\x44\102\137\x44\101\124\101\102\x41\x53\x45\175", "\173\104\102\137\x54\x41\x42\114\x45\x50\122\105\175", "\173\x43\x4f\117\x4b\x49\x45\x50\x52\x45\175", "\173\101\x55\124\x48\x4b\105\131\175"), array($db["\163\x65\x72\166\145\162"], $db["\165\x73\145\162\x6e\x61\155\x65"], $db["\160\141\163\163\x77\x6f\162\144"], $db["\160\157\x72\x74"], $db["\x6e\x61\155\145"], $db["\x70\x72\x65\x66\x69\170"], $cookiepre, $authkey), $config); goto JKSxp; lh4x0: $db = array("\163\145\162\166\145\162" => $pieces[0] == "\x31\x32\67\56\x30\x2e\60\56\61" ? "\154\x6f\143\x61\x6c\x68\x6f\163\x74" : $pieces[0], "\160\x6f\x72\164" => !empty($pieces[1]) ? $pieces[1] : "\x33\x33\60\66", "\165\163\145\162\x6e\x61\155\x65" => $db_username, "\160\x61\163\163\167\157\x72\144" => $db_password, "\x70\x72\145\146\x69\x78" => $db_prefix, "\x6e\x61\155\x65" => $db_name); goto nyv4E; Hr01W: if (empty($error)) { goto WqkJI; } goto bNEQQ; OZL3T: WqkJI: goto dPcni; La2go: $cookiepre = local_salt(4) . "\x5f"; goto Zzalf; JKSxp: local_mkdirs(IA_INSTALL_ROOT . "\57\144\141\x74\141"); goto fYMGq; Zzalf: $authkey = local_salt(8); goto R4sDb; jHBIx: return false; goto PZEb8; PZEb8: Db9mh: goto c_qst; dPcni: $config = local_config(); goto La2go; q9rni: if (!(empty($server) || empty($db_username) || empty($db_password) || empty($db_name))) { goto Db9mh; } goto jHBIx; Bx4Qc: return $result !== false ? true : false; goto fvXjZ; c_qst: $pieces = explode("\x3a", $server); goto lh4x0; g8Z_e: try { goto TclI4; C2vEU: $error = "\xe6\225\260\346\x8d\xae\xe5\xba\223\xe4\270\x8d\345\255\x98\xe5\x9c\xa8\xe4\270\x94\xe5\210\x9b\xe5\xbb\xba\346\225\260\346\215\256\345\272\x93\xe5\244\xb1\xe8\xb4\xa5\56"; goto QllDn; vzNAz: if (!empty($databases_if_exists)) { goto B8ndU; } goto C2vEU; KCt4M: if (empty($tables)) { goto KnXon; } goto OL1SF; kpuo_: $databases = we7_pdo($link, "\161\x75\x65\162\x79", "\x53\x48\117\127\40\104\x41\x54\x41\102\x41\x53\x45\x53\40\114\111\113\x45\40\47{$db["\156\141\155\145"]}\47\x3b"); goto Fyv7s; iznCP: we7_pdo($link, "\145\170\x65\x63", "\125\x53\105\40\x60{$db_name}\x60\x3b"); goto UqC2G; YHszs: if (substr($link->getAttribute(PDO::ATTR_SERVER_VERSION), 0, 3) > "\64\56\x31") { goto h8GNl; } goto WXYSh; lrEyS: we7_pdo($link, "\145\170\145\143", "\123\105\124\40\x73\161\x6c\137\x6d\x6f\144\x65\x3d\x27\47"); goto kpuo_; WUBmh: goto gJ3W8; goto Xyr9W; gm1T0: we7_pdo($link, "\161\x75\145\162\171", "\103\x52\x45\101\124\x45\40\104\x41\124\x41\x42\101\x53\105\x20\x49\106\x20\x4e\x4f\x54\40\105\130\x49\123\x54\123\40\140{$db["\x6e\141\x6d\x65"]}\140\x20\x44\105\x46\101\x55\114\124\40\x43\x48\x41\x52\x41\x43\124\x45\x52\40\x53\x45\124\x20\165\x74\x66\70\73"); goto THihw; THihw: gJ3W8: goto a2PWB; m0IU_: we7_pdo($link, "\145\x78\x65\143", "\123\x45\124\40\143\x68\141\162\x61\143\x74\145\x72\137\163\145\164\x5f\x63\157\x6e\156\145\143\x74\x69\157\x6e\75\165\x74\146\x38\x2c\40\x63\x68\141\x72\141\143\x74\x65\x72\x5f\163\x65\x74\x5f\162\x65\163\165\154\x74\x73\75\165\x74\146\70\x2c\40\x63\150\141\162\x61\143\164\x65\162\x5f\x73\145\164\x5f\143\x6c\x69\145\x6e\164\75\142\151\156\x61\162\171"); goto lrEyS; Fyv7s: if (!empty($databases)) { goto E0TY7; } goto YHszs; a2PWB: E0TY7: goto guf_j; Xyr9W: h8GNl: goto gm1T0; guf_j: $databases_if_exists = we7_pdo($link, "\x71\165\145\162\171", "\x53\110\x4f\127\x20\104\x41\x54\101\102\101\x53\105\x53\40\x4c\x49\x4b\x45\x20\x27{$db["\x6e\141\155\x65"]}\47\x3b"); goto vzNAz; QllDn: B8ndU: goto iznCP; leaLX: KnXon: goto RMyO1; OL1SF: return "\xe6\x82\xa8\xe7\232\204\xe6\225\xb0\346\215\xae\xe5\xba\223\344\xb8\215\xe4\xb8\xba\xe7\xa9\xba\xef\xbc\214\350\257\267\351\x87\215\xe6\x96\xb0\xe5\273\272\xe7\xab\x8b\346\225\260\346\215\256\345\xba\x93\xe6\210\x96\xe6\230\xaf\346\270\205\xe7\xa9\xba\xe8\xaf\xa5\xe6\x95\260\xe6\x8d\256\xe5\xba\x93\xe6\210\x96\346\233\xb4\xe6\224\xb9\xe8\xa1\250\xe5\211\215\347\274\200\357\xbc\x81"; goto leaLX; WXYSh: we7_pdo($link, "\161\x75\145\162\x79", "\103\x52\x45\101\124\x45\x20\104\x41\x54\101\102\101\x53\105\40\x49\106\x20\x4e\117\x54\40\x45\x58\x49\x53\124\123\40\140{$db["\156\x61\155\145"]}\x60\73"); goto WUBmh; TclI4: $link = new PDO("\155\171\163\x71\154\x3a\x68\157\163\x74\75{$db["\x73\145\162\166\x65\162"]}\73\x70\157\x72\164\x3d{$db["\160\x6f\x72\x74"]}", $db["\x75\163\x65\x72\x6e\x61\x6d\145"], $db["\x70\141\163\x73\x77\157\x72\144"]); goto m0IU_; UqC2G: $tables = we7_pdo($link, "\161\165\x65\162\171", "\x53\110\117\127\x20\124\x41\x42\114\x45\123\x20\x4c\111\x4b\105\40\47{$db_prefix}\x25\47\73"); goto KCt4M; RMyO1: } catch (PDOException $e) { goto KbSYp; JSLxJ: vUl0X: goto p0dac; gO_H5: COZfA: goto UphId; p0dac: $error = "\xe6\202\250\347\x9a\204\346\225\xb0\346\215\256\345\272\x93\xe8\256\277\xe9\227\xae\xe7\224\250\346\210\267\345\x90\x8d\xe6\x88\x96\xe6\230\257\xe5\xaf\206\347\xa0\201\351\224\231\xe8\257\xaf\56"; goto IOjYG; rmm6R: pT5lj: goto ppf8u; UphId: $error = "\346\x97\xa0\346\xb3\x95\xe8\xbf\x9e\xe6\216\245\346\x95\260\346\x8d\256\xe5\272\223\54\xe8\xaf\xb7\346\xa3\x80\xe6\237\xa5\xe6\x95\260\346\x8d\256\xe5\xba\x93\xe6\230\xaf\xe5\220\246\xe6\255\xa3\xe5\xb8\xb8\56\350\257\246\xe6\x83\205\72" . $error; goto rmm6R; O9nRT: if (strpos($error, "\101\143\143\x65\x73\163\40\144\x65\x6e\151\x65\144\x20\146\x6f\162\x20\x75\163\x65\x72") !== false) { goto vUl0X; } goto f4T4U; KbSYp: trigger_error($e->getCode() . "\x3a" . $e->getMessage()); goto fE10y; BvP41: $error = iconv("\147\x62\153", "\x75\164\146\70", $error); goto BMXPn; fE10y: $error = $e->getMessage(); goto O9nRT; BMXPn: goto pT5lj; goto JSLxJ; IOjYG: goto pT5lj; goto gO_H5; f4T4U: if (strpos($error, "\x4e\x6f\x20\x73\165\x63\x68\x20\x66\x69\154\145\40\157\162\40\144\151\162\x65\x63\164\157\162\171") !== false) { goto COZfA; } goto BvP41; ppf8u: } goto Hr01W; fvXjZ: } goto rufNk; fZ_4h: exit(we7_error(0, "\163\165\143\x63\145\163\163")); goto cRa5x; lySt9: $filename = IA_INSTALL_ROOT . "\x2f\x63\150\x75\156\153\x5f" . $chunk_num; goto w5L6x; QiC_L: define("\101\120\x49\137\x47\x45\x54\x5f\x50\101\x43\113\101\x47\105\137\115\104\65\x5f\101\x4e\x44\x5f\x43\x48\125\116\x4b\124\x4f\x54\x41\114", API_HOST . "\x2f\165\x74\151\x6c\x2f\x70\x61\143\153\141\147\x65\x2f\x69\x6e\163\164\x61\x6c\154"); goto g6upO; I3KJy: if (!($action == "\x69\156\x73\x74\141\154\x6c")) { goto eEMnj; } goto hYPT1; sL7XL: wAh_3: goto E11Qz; oIQxq: if (!(is_array($data) && isset($data["\x65\x72\162\x6f\162"]))) { goto VuHhA; } goto zWx4d; ZXQU1: $finished = true; goto Nym1X; YLEnm: exit(we7_error(0, "\x73\165\x63\x63\x65\163\x73")); goto mozlf; rf8FC: SjoNJ: goto w9jk0; S_Bo1: if (!("\164\157\x75\x63\150" == $action)) { goto TilGH; } goto gyV8v; chO5X: if (!($action == "\157\x61\x75\164\x68")) { goto llWwp; } goto GZdig; fBuzH: $server = trim($_POST["\163\145\162\166\145\x72"]); goto tV1kH; siy6q: $password = trim(empty($_POST["\160\141\x73\163\167\157\x72\x64"]) ? '' : $_POST["\160\x61\x73\163\x77\x6f\162\x64"]); goto JU0Kr; UeO_W: header("\101\143\143\x65\x73\163\55\x43\157\x6e\164\x72\157\154\x2d\x41\154\x6c\x6f\167\55\x43\x72\x65\144\145\156\164\x69\x61\x6c\x73\72\x74\162\x75\145"); goto TMI4t; i6gnA: exit(we7_error(0, $result)); goto bMiEP; kFh89: $ret["\x72\157\x6f\x74"]["\146\141\x69\154\145\x64"] = true; goto gO6nG; y0BCE: if (file_exists(IA_INSTALL_ROOT . "\x2f\x64\141\164\x61\57\144\x62\x2e\154\x6f\143\153")) { goto b6AtD; } goto nKaLb; JzKNX: if (!is_array($password)) { goto KNmW6; } goto Mm4OG; QMeAe: P53Ai: goto Oqm1X; xQCeJ: we7_setcookie("\151\x6d\163\x5f\x66\141\155\x69\x6c\x79", in_array($data["\x66\141\x6d\x69\x6c\171"], array("\154", "\166", "\x73", "\x78")) ? $data["\146\x61\x6d\x69\154\171"] : "\x76"); goto Vmt3c; alf5F: define("\x41\x50\x49\137\x48\117\123\124", "\150\164\x74\x70\x3a\57\57\x61\x70\151\56\x77\67\x2e\x63\x63"); goto NH1Lg; fLA3l: oV1ca: goto RaM63; CuOqy: header("\x4c\157\143\x61\x74\151\x6f\156\72\40" . $siteroot . "\x2f\x69\156\x73\x74\141\x6c\154\x2e\x70\150\160\x3f\143\x68\145\143\153\x3d\61"); goto qpUNw; CMS7v: touch(IA_INSTALL_ROOT . "\x2f\144\x61\164\141\57\151\x6e\x73\x74\141\x6c\x6c\56\154\x6f\143\153"); goto bgnTG; R216T: foreach (we7_need_extension() as $extension) { goto n3dY8; SEYos: $ret[$extension]["\x6e\141\155\x65"] = $extension . "\346\211\251\xe5\261\x95"; goto ILJdl; xgJWn: wMOV7: goto Amw7Q; uAf90: if ($if_ok) { goto VouAO; } goto Uq7vF; Uq7vF: $ret[$extension]["\x66\141\151\154\145\x64"] = true; goto SEYos; Zb3vd: VouAO: goto xgJWn; ILJdl: $ret[$extension]["\162\145\163\165\x6c\164"] = "\xe4\270\215\xe6\224\xaf\xe6\214\201" . $extension; goto Zb3vd; n3dY8: $if_ok = extension_loaded($extension); goto uAf90; Amw7Q: } goto PpsP4; Ewkfz: exit(we7_error(420, $database_result)); goto aos61; EBbPn: function we7_error($num, $message = "\163\165\143\143\145\163\x73") { $num = intval($num); return json_encode(array("\x65\x72\x72\156\157" => $num, "\144\x61\164\141" => $message)); } goto FSvC8; Ev3hk: exit(we7_error(421, "\345\256\211\350\xa3\x85\xe5\x8c\205\xe4\270\215\345\xae\x8c\346\x95\264\x2e")); goto KZYco; g_VgL: exit(we7_error(434, $result)); goto osYH1; WhmLB: O9Y0s: goto g0spG; xMWvI: define("\101\x50\x49\x5f\x55\x50\x44\101\124\x45\x5f\x53\111\124\105\116\101\x4d\105", API_HOST . "\x2f\163\x69\164\145\57\162\145\147\151\x73\164\x65\162\x2f\x72\145\x6e\141\x6d\145"); goto YerDs; v4PcW: if (!empty($server)) { goto szl0i; } goto RGGZp; ueFB7: we7_setcookie("\160\x61\x63\x6b\x61\147\145\137\x6d\144\65", $data["\155\144\65"]); goto XuwrO; voft0: $ret["\163\145\x73\163\x69\x6f\x6e"]["\x6e\x61\x6d\145"] = "\x73\145\163\x73\151\157\x6e\56\141\x75\164\157\137\x73\164\141\x72\164\345\xbc\200\xe5\x90\xaf"; goto H2ZX4; w5L6x: $filesize = filesize($filename); goto eJYPn; zgdxn: define("\x41\120\x49\137\x4f\101\x55\x54\x48\137\122\105\x53\x45\124\x5f\x53\111\x54\x45\111\116\x46\117", API_HOST . "\x2f\x73\151\x74\145\x2f\162\x65\147\x69\163\x74\x65\162\57\x70\162\x6f\146\151\x6c\x65"); goto xMWvI; BDOU3: exit(we7_error(400, "\345\277\x85\351\241\xbb\350\276\223\345\x85\245\xe7\224\xa8\346\x88\xb7\345\x90\x8d\xef\274\214\xe6\240\xbc\345\274\x8f\344\270\xba\x20\63\55\61\65\40\xe4\275\215\345\255\227\xe7\xac\246\xef\xbc\214\xe5\217\xaf\xe4\273\245\345\x8c\205\xe6\213\xac\346\261\x89\xe5\xad\227\xe3\200\x81\345\xad\x97\346\xaf\x8d\xef\xbc\x88\344\270\215\xe5\x8c\xba\345\210\x86\345\xa4\247\xe5\xb0\217\xe5\x86\x99\xef\274\211\343\200\201\346\x95\260\xe5\xad\x97\343\200\x81\xe4\270\213\xe5\210\222\347\272\277\345\x92\214\345\217\xa5\xe7\x82\271\xe3\x80\x82")); goto lu_N0; yxvpm: exit(we7_error(0, $db)); goto RxGsi; X4ql7: $data = we7_request_api(API_GET_CHUNK_PACKAGE, $post); goto mRvFx; a23J4: if (!empty($db_username)) { goto FQAuI; } goto uRzXY; mI4fX: if (!(!empty($username) && $username != "\141\x64\x6d\151\156" || !empty($password) && $password != "\61\x32\x33\x34\65\66")) { goto wvObA; } goto oQX_P; fYSZT: if (!($chunk_num > $chunk_total)) { goto zr5hk; } goto uaoSB; hPXiO: function map_error_code($code) { goto ZyATn; ID9np: nF18O: goto CPTvb; CPTvb: return array($error, $log); goto piNdB; gFaWQ: switch ($code) { case E_PARSE: case E_ERROR: case E_CORE_ERROR: case E_COMPILE_ERROR: case E_USER_ERROR: goto EkKEf; EkKEf: $error = "\106\141\x74\141\154\40\x45\162\x72\157\x72"; goto s2D7l; s2D7l: $log = LOG_ERR; goto vMI31; vMI31: goto nF18O; goto AUeLQ; AUeLQ: case E_WARNING: case E_USER_WARNING: case E_COMPILE_WARNING: case E_RECOVERABLE_ERROR: goto IA7j0; JHLkm: $log = LOG_WARNING; goto d3JeD; IA7j0: $error = "\x57\141\x72\x6e\151\x6e\147"; goto JHLkm; d3JeD: goto nF18O; goto Y8S5y; Y8S5y: case E_NOTICE: case E_USER_NOTICE: goto QYjLt; QYjLt: $error = "\116\x6f\164\151\x63\x65"; goto eo86D; eo86D: $log = LOG_NOTICE; goto swZQ4; swZQ4: goto nF18O; goto fkrPh; fkrPh: case E_STRICT: goto e5WHg; YEk_E: goto nF18O; goto lBbvj; bhyjV: $log = LOG_NOTICE; goto YEk_E; e5WHg: $error = "\123\164\162\151\143\x74"; goto bhyjV; lBbvj: case E_DEPRECATED: case E_USER_DEPRECATED: goto h1aCF; Djqdj: $log = LOG_NOTICE; goto wvKIe; wvKIe: goto nF18O; goto l59yF; h1aCF: $error = "\x44\x65\x70\x72\x65\143\x61\164\145\x64"; goto Djqdj; l59yF: default: goto nF18O; } goto SjET3; SjET3: EH810: goto ID9np; ZyATn: $error = $log = null; goto gFaWQ; piNdB: } goto WVCEV; NDQux: function we7_network_enable($host) { goto U4S1k; I94Se: lkgPj: goto Fp3Gk; GdSyr: if ($httphost_is_ip) { goto lkgPj; } goto ZC11q; hR2_c: qU0bm: goto nt2S3; Fp3Gk: $if_local_network10 = preg_match("\57\x5e\x31\60\x5c\x2e\50\x31\134\144\173\x32\x7d\174\x32\133\x30\55\x34\x5d\x5c\144\174\62\65\133\60\x2d\x35\x5d\x7c\133\x31\55\71\x5d\x5c\144\x7c\x5c\x64\x29\x5c\x2e\50\61\x5c\144\173\x32\175\x7c\62\133\60\55\x34\135\x5c\144\174\x32\x35\133\x30\55\65\x5d\x7c\x5b\x31\x2d\x39\135\134\x64\174\134\x64\51\134\x2e\x28\x31\x5c\144\x7b\x32\x7d\174\x32\x5b\60\55\64\135\134\144\174\x32\x35\133\60\x2d\65\x5d\174\x5b\61\x2d\71\x5d\x5c\144\x7c\x5c\144\x29\44\x2f", $host); goto KNAXO; x66Gh: $httphost_is_ip = preg_match("\x2f\x5e\x28\61\134\144\173\62\x7d\x7c\62\x5b\60\55\64\x5d\x5c\144\174\x32\x35\133\x30\55\65\135\x7c\133\61\55\71\x5d\134\x64\x7c\133\61\x2d\71\x5d\51\x5c\x2e\50\61\x5c\x64\x7b\x32\175\174\x32\x5b\x30\55\64\135\134\144\174\62\x35\133\60\55\x35\x5d\x7c\133\61\55\71\135\134\144\174\x5c\144\51\134\x2e\50\x31\134\x64\x7b\62\175\x7c\62\133\60\55\64\135\x5c\144\x7c\62\x35\x5b\60\55\x35\x5d\174\x5b\61\55\x39\135\x5c\144\x7c\134\144\x29\x5c\x2e\x28\x31\x5c\144\173\x32\175\174\x32\133\x30\55\x34\135\134\x64\x7c\62\x35\x5b\x30\55\65\x5d\174\133\x31\55\71\135\x5c\x64\x7c\x5c\x64\x29\x24\57", $host); goto GdSyr; NGFE3: return false; goto hR2_c; hD6bO: return false; goto tbvrY; ze7x1: return false; goto EO94h; DujgR: $if_local_network192 = preg_match("\57\136\x31\x39\62\x5c\56\61\66\70\x5c\56\50\x31\x5c\x64\x7b\x32\x7d\x7c\x32\x5b\60\55\x34\x5d\134\x64\x7c\62\65\x5b\x30\x2d\x35\135\174\x5b\x31\x2d\x39\x5d\134\x64\174\x5c\x64\x29\x5c\56\x28\x31\134\144\173\x32\175\x7c\x32\x5b\x30\55\64\135\x5c\x64\x7c\x32\x35\x5b\x30\55\65\135\174\133\x31\x2d\71\135\134\x64\x7c\134\x64\x29\44\57", $host); goto JZhQY; KNAXO: if (!$if_local_network10) { goto helmb; } goto hD6bO; FiPIX: goto psfQH; goto I94Se; KBQTf: $if_local_network172 = preg_match("\57\x5e\61\67\x32\x5c\56\x28\61\x5b\x36\x2d\71\x5d\174\x32\133\60\55\x39\x5d\x7c\63\133\x30\x2d\x31\135\x29\x5c\56\x28\x31\134\144\173\62\x7d\x7c\x32\133\60\55\x34\135\134\x64\x7c\62\65\x5b\60\x2d\65\135\174\x5b\61\x2d\71\135\x5c\144\x7c\134\144\x29\134\56\x28\x31\134\144\x7b\x32\x7d\174\x32\133\60\55\64\x5d\x5c\x64\x7c\x32\x35\x5b\x30\x2d\x35\x5d\x7c\133\x31\55\x39\x5d\134\x64\174\x5c\144\x29\x24\x2f", $dns_record[0]["\x69\160"]); goto ox8nN; cA1Ki: u6M5i: goto FiPIX; JZhQY: if (!$if_local_network192) { goto POHG8; } goto kAgBW; tbvrY: helmb: goto uoO1W; XbUrK: if (!$if_local_network172) { goto bpMF3; } goto epi1z; JrIXh: if (!$if_local_network192) { goto u6M5i; } goto aL5rZ; UXM9I: if (!(empty($dns_record) || empty($dns_record[0]["\x69\160"]) || $dns_record[0]["\151\160"] == "\61\x32\67\x2e\x30\x2e\60\x2e\x31" || strpos($dns_record[0]["\x69\160"], "\x31\60\56") === 0)) { goto UlAvt; } goto ze7x1; MdYKy: NCl9R: goto x66Gh; lby4y: POHG8: goto S3_jp; oh6ZR: return false; goto MdYKy; epi1z: return false; goto NHYjW; aL5rZ: return false; goto cA1Ki; ZC11q: $dns_record = dns_get_record($host, DNS_A); goto UXM9I; kAgBW: return false; goto lby4y; EVUOw: trigger_error("\146\165\156\x63\164\151\157\156\x20\156\141\x6d\145\40\167\145\x37\x5f\x6e\x65\164\x77\x6f\x72\153\137\145\x6e\x61\x62\154\145\40\x27\x73\x20\x70\x61\x72\x61\155\x20\x3a\40\x24\150\157\x73\164\x20\151\x73\40\x65\x6d\x70\x74\x79"); goto oh6ZR; nt2S3: $if_local_network192 = preg_match("\57\x5e\61\x39\62\134\56\61\x36\70\134\x2e\50\x31\x5c\x64\x7b\62\175\x7c\x32\x5b\60\55\x34\135\x5c\144\174\62\65\133\x30\55\65\x5d\x7c\133\61\x2d\71\135\134\144\x7c\x5c\144\x29\134\56\x28\x31\x5c\x64\173\x32\x7d\174\62\133\60\55\64\x5d\x5c\144\x7c\x32\x35\133\60\x2d\x35\x5d\174\133\61\55\x39\135\x5c\x64\x7c\x5c\144\x29\44\57", $dns_record[0]["\x69\160"]); goto JrIXh; S3_jp: psfQH: goto O4o_d; EO94h: UlAvt: goto KBQTf; U4S1k: if (!empty($host)) { goto NCl9R; } goto EVUOw; ox8nN: if (!$if_local_network172) { goto qU0bm; } goto NGFE3; NHYjW: bpMF3: goto DujgR; uoO1W: $if_local_network172 = preg_match("\x2f\136\x31\67\62\x5c\56\50\61\133\66\55\71\135\174\x32\x5b\x30\55\x39\x5d\174\63\133\60\55\x31\135\51\x5c\x2e\x28\61\134\x64\x7b\x32\175\174\62\133\60\55\x34\135\x5c\144\174\62\65\x5b\x30\x2d\x35\135\174\133\x31\x2d\71\135\134\x64\174\134\x64\51\134\56\50\61\134\144\x7b\62\x7d\x7c\x32\133\x30\55\64\135\x5c\x64\x7c\x32\x35\x5b\60\55\x35\x5d\x7c\x5b\x31\x2d\71\x5d\x5c\144\x7c\134\144\51\x24\x2f", $host); goto XbUrK; O4o_d: return true; goto ZCp0o; ZCp0o: } goto GJXPw; FpaFv: if ($ret["\x72\x6f\157\x74"]["\157\153"]) { goto IRr0n; } goto kFh89; XkIkW: if (!(empty($accesstoken) && !empty($action) && !in_array($action, array("\162\x65\x67\x69\163\x74\145\162\x5f\x63\141\x6c\x6c\x62\x61\143\x6b")))) { goto iqPtY; } goto eEB0L; albKE: foreach ($ret as $key => $value) { goto gmkpt; gpcRV: VLAzy: goto LIfQM; x1Tl6: goto VLAzy; goto pIONO; d0CxD: $result[] = $value; goto F1L87; F1L87: r9i0V: goto gpcRV; gmkpt: if (!(version_compare(PHP_VERSION, "\67\56\60\56\x30") >= 0 && in_array($key, array("\155\143\x72\171\160\x74", "\141\154\x77\141\x79\x73\x5f\x70\x6f\160\x75\x6c\141\x74\x65\x5f\162\x61\x77\137\160\157\163\164\x5f\144\x61\164\141")))) { goto BKalo; } goto x1Tl6; pIONO: BKalo: goto MF8G3; zcxVX: $value["\150\x61\156\x64\154\145"] = !empty($value["\150\x61\x6e\144\x6c\145"]) ? $value["\x68\x61\156\144\x6c\145"] : "\150\x74\x74\x70\x73\72\57\x2f\163\x2e\167\x37\x2e\x63\x63\x2f\x77\157\57\160\162\x6f\x62\154\145\x6d\x2f\64\x36"; goto d0CxD; MF8G3: if (empty($value["\146\x61\151\154\145\144"])) { goto r9i0V; } goto zcxVX; LIfQM: } goto qYdU_; k57AW: ms1R5: goto a8Vi6; TDS1r: if (is_array($data) && isset($data["\x65\x72\162\157\x72"])) { goto aVqw9; } goto ueFB7; IIyXQ: kg_Kz: goto R216T; c5CSC: require IA_INSTALL_ROOT . "\57\x66\x72\141\155\x65\x77\157\162\x6b\x2f\142\157\x6f\164\x73\164\162\141\x70\x2e\x69\x6e\x63\x2e\x70\x68\160"; goto HB5is; rFHhE: dPjwO: goto lZsdQ; fXu3d: if ($sitename_result) { goto HIGOT; } goto zG4bc; uNqvG: $post = file_get_contents("\x70\x68\x70\x3a\57\x2f\x69\156\x70\165\x74"); goto pMPNT; w482S: function local_salt($length = 8) { goto GDZuB; hX1JY: return $result; goto dfn1t; nHmys: $result = substr(str_shuffle($strs), mt_rand(0, strlen($strs) - ($length + 1)), $length); goto hX1JY; GDZuB: $strs = "\x41\x42\103\104\105\x46\107\x48\111\112\x4b\x4c\x4d\x4e\117\x50\x51\122\123\124\x55\126\x57\x58\x59\132\141\142\143\x64\x65\146\147\x68\151\x6a\x6b\x6c\x6e\x6d\x6f\160\161\x72\x73\164\165\166\167\x78\x79\172\60\61\62\63\x34\65\x36\x37\70\x39"; goto nHmys; dfn1t: } goto xXQaI; NTNFd: touch(IA_INSTALL_ROOT . "\57\x64\141\x74\141\x2f\144\x62\x2e\154\157\x63\153"); goto EGPzi; Y9j7B: $sitename_result = we7_update_sitename($sitename); goto fXu3d; X4Ifa: $chunk_num = max(1, $chunk_num); goto o3WKm; hYPT1: if (!(!file_exists(IA_INSTALL_ROOT . "\57\x64\x61\x74\x61\57\x63\x6f\x6e\x66\x69\x67\56\160\x68\x70") || !empty($_POST))) { goto nVv0Y; } goto fBuzH; uRzXY: exit(we7_error(419, "\346\225\260\xe6\x8d\xae\xe5\272\223\xe7\x94\250\346\210\267\344\270\x8d\345\217\257\xe4\xb8\272\xe7\251\xba\41")); goto OOSEJ; Bougt: function we7_update_user($username, $password) { goto VMvdo; ad_ER: setcookie($_W["\143\157\x6e\146\151\147"]["\143\x6f\157\x6b\151\x65"]["\160\x72\145"] . "\x5f\x5f\163\145\163\163\x69\x6f\x6e", $session, 0, "\x2f", '', $secure, true); goto eCNSl; L6MlC: $session = install_authcode(json_encode($cookie), "\x65\x6e\143\157\144\145", $_W["\143\157\156\146\x69\x67"]["\x73\x65\x74\x74\x69\x6e\x67"]["\141\x75\164\x68\153\x65\171"]); goto IaJgT; u3fyM: $password = user_hash($password, $userinfo["\x73\x61\x6c\x74"]); goto FHVXv; AOyFx: $cookie = array("\x6c\141\163\x74\166\x69\x73\151\164" => '', "\x6c\x61\163\164\x69\160" => ''); goto qm0Ua; VMvdo: global $_W, $is_https; goto JDRsW; JDRsW: load()->model("\165\x73\x65\x72"); goto J8r_U; eCNSl: return $result ? true : false; goto LPGj3; qm0Ua: $cookie["\x75\151\144"] = $userinfo["\x75\151\144"]; goto pGi9j; J8r_U: $userinfo = pdo_get("\x75\x73\x65\162\x73", array("\165\163\x65\x72\156\141\x6d\x65" => "\141\144\x6d\151\x6e")); goto u3fyM; IaJgT: $secure = $is_https ? 1 : 0; goto ad_ER; pGi9j: $cookie["\150\x61\163\150"] = md5($password . $userinfo["\163\x61\x6c\x74"]); goto L6MlC; FHVXv: $result = pdo_update("\165\x73\x65\x72\x73", array("\x75\x73\145\x72\x6e\x61\155\x65" => $username, "\160\141\163\163\x77\x6f\162\144" => $password), array("\x75\151\x64" => $userinfo["\x75\151\144"])); goto AOyFx; LPGj3: } goto MbKy_; HB5is: setting_save($auth, "\163\151\x74\x65"); goto YLEnm; Zc02L: dTOz5: goto CMS7v; DAoG_: $action = in_array($action, $actions) ? $action : ''; goto S_Bo1; g0spG: exit(we7_error(0, "\163\165\x63\143\x65\163\163")); goto x0FXq; hwSkP: $ret["\156\x65\x74\x77\157\162\x6b\x5f\x65\x6e\141\x62\x6c\x65\144"]["\156\141\155\x65"] = "\xe5\244\x96\347\xbd\221\345\217\257\350\xae\xbf\xe9\x97\256\xe6\200\xa7"; goto b1qJY; o3WKm: if (!(file_exists(IA_INSTALL_ROOT . "\x2f\x69\x6e\144\145\170\x2e\160\x68\160") && is_dir(IA_INSTALL_ROOT . "\x2f\167\145\142") && file_exists(IA_INSTALL_ROOT . "\57\x64\141\x74\x61\57\x64\x62\55\x31\56\x78\56\x70\x68\x70"))) { goto JMZYe; } goto sSKpR; O2HE3: define("\101\120\x49\137\117\x41\125\124\x48\x5f\x52\105\x47\x49\123\124\105\x52\x5f\123\111\x54\105", API_HOST . "\57\x73\151\x74\x65\57\162\x65\x67\x69\163\164\x65\x72\57\x69\x6e\144\145\170"); goto zgdxn; lZsdQ: if (!empty($db_name)) { goto lnfVl; } goto Sm3Ka; Y9lRM: function local_run($sql, $link, $db) { goto AvXXD; TgSgb: unset($sql); goto Y0o7l; r7ieF: Cflul: goto D4SlW; fX1Gy: LqFSU: goto g_11x; wM6YD: oNjLt: goto TgSgb; Y0o7l: foreach ($ret as $query) { goto gN5O2; gN5O2: $query = trim($query); goto H9LfU; L0XmM: $link->exec($query); goto TJIvd; RPyQ8: ak3YY: goto lG7Wr; LrSnX: zTtux: goto oLkUd; TJIvd: if (!($link->errorCode() != "\x30\x30\60\60\x30")) { goto ak3YY; } goto Cxe3d; Cxe3d: $errorInfo = $link->errorInfo(); goto Ym29X; lG7Wr: Z9LoR: goto LrSnX; Ym29X: trigger_error($errorInfo[0] . "\x3a\x20" . $errorInfo[2], E_USER_WARNING); goto sNkx0; sNkx0: exit($query); goto RPyQ8; H9LfU: if (!$query) { goto Z9LoR; } goto L0XmM; oLkUd: } goto fX1Gy; Ul_so: foreach (explode("\73\xa", trim($sql)) as $query) { goto rib8T; rib8T: $ret[$num] = ''; goto DnyOX; DnyOX: $queries = explode("\12", trim($query)); goto agf25; HrDu7: m2x0A: goto iGoTD; iGoTD: $num++; goto dsUoe; agf25: foreach ($queries as $query) { $ret[$num] .= isset($query[0]) && $query[0] == "\x23" || isset($query[1]) && isset($query[1]) && $query[0] . $query[1] == "\55\x2d" ? '' : $query; gq819: } goto HrDu7; dsUoe: WjWKG: goto COZc3; COZc3: } goto wM6YD; D4SlW: $sql = str_replace("\xd", "\xa", str_replace("\40\151\155\163\x5f", "\40" . $db["\160\x72\x65\x66\151\x78"], $sql)); goto F7U2S; F7U2S: $sql = str_replace("\15", "\12", str_replace("\x20\140\x69\x6d\163\x5f", "\40\140" . $db["\160\162\145\x66\x69\170"], $sql)); goto Khxh0; Khxh0: $ret = array(); goto etGMX; AvXXD: if (!(!isset($sql) || empty($sql))) { goto Cflul; } goto PZo21; PZo21: return; goto r7ieF; etGMX: $num = 0; goto Ul_so; g_11x: } goto OboWl; JOWVT: function we7_http_response_parse($data) { goto DdQh0; WE7QR: $rlt["\x72\x65\163\x70\x6f\156\x73\x65\154\151\x6e\145"] = !empty($split2[0]) ? $split2[0] : ''; goto uJAXL; dCQt9: if (!($rlt["\143\157\x64\x65"] == "\61\x30\60")) { goto CxnBp; } goto xzPLV; H7YRb: $rlt["\x73\x74\x61\x74\x75\163"] = !empty($matches[3]) ? $matches[3] : "\x4f\x4b"; goto WE7QR; qfxiW: $isgzip = false; goto cKpee; c1_tS: $pos = strpos($data, "\15\xa\15\12"); goto IRKxh; TYMoX: CxnBp: goto sqZsX; Rt1lU: preg_match("\x2f\x5e\x28\134\123\x2b\51\x20\50\x5c\123\x2b\51\40\50\56\52\x29\x24\57", $split2[0], $matches); goto tUk_F; hyK_2: $rlt["\143\157\x6e\164\x65\x6e\164"] = gzdecode($rlt["\143\x6f\x6e\x74\x65\156\164"]); goto srwp8; cKpee: foreach ($header as $v) { goto EmDsf; YTjsS: unset($rlt["\150\145\141\144\x65\x72\163"][$key]); goto JQ7IJ; Uowm4: goto S04t0; goto x6oez; zSNT2: tVcEL: goto ERTuD; DvVrf: tyOy1: goto zcQJk; B8O5h: if (!empty($rlt["\150\145\x61\x64\145\162\163"][$key])) { goto tyOy1; } goto AUcXc; TKIhy: $value = trim(substr($v, $pos + 1)); goto l_See; AZkjI: $rlt["\x68\x65\x61\144\145\x72\163"][$key][] = $value; goto hVJ1z; ERTuD: USoEE: goto SbZqm; jUqGa: $rlt["\x68\x65\141\144\145\x72\x73"][$key][] = $value; goto Mg5Tx; l_See: if (isset($rlt["\x68\x65\x61\x64\x65\162\163"][$key]) && is_array($rlt["\150\145\141\144\x65\162\x73"][$key])) { goto TYO9Y; } goto B8O5h; Mg5Tx: goto S04t0; goto DvVrf; JQ7IJ: $rlt["\150\x65\141\144\x65\x72\163"][$key][] = $temp; goto AZkjI; x6oez: TYO9Y: goto jUqGa; Q3292: if (!(!$isgzip && strtolower($key) == "\143\x6f\156\164\x65\156\x74\55\x65\x6e\143\157\x64\151\156\x67" && strtolower($value) == "\147\x7a\151\x70")) { goto tVcEL; } goto eIpEz; MIXc2: $key = substr($v, 0, $pos); goto TKIhy; hVJ1z: S04t0: goto Q3292; EmDsf: $pos = strpos($v, "\x3a"); goto MIXc2; zcQJk: $temp = $rlt["\x68\145\141\144\x65\x72\x73"][$key]; goto YTjsS; eIpEz: $isgzip = true; goto zSNT2; AUcXc: $rlt["\150\x65\x61\144\145\x72\x73"][$key] = $value; goto Uowm4; SbZqm: } goto ypxm4; jBTzu: $rlt["\155\x65\x74\141"] = $data; goto dCQt9; tUk_F: $rlt["\143\x6f\x64\x65"] = !empty($matches[2]) ? $matches[2] : 200; goto H7YRb; IRKxh: $split1[0] = substr($data, 0, $pos); goto IfBDl; srwp8: ai3Bx: goto jBTzu; tUa4Y: if (!($isgzip && function_exists("\147\172\144\145\x63\x6f\x64\x65"))) { goto ai3Bx; } goto hyK_2; DdQh0: $rlt = array(); goto c1_tS; sqZsX: return $rlt; goto kOfM_; fDLIq: $split2 = explode("\15\xa", $split1[0], 2); goto Rt1lU; IfBDl: $split1[1] = substr($data, $pos + 4, strlen($data)); goto fDLIq; uJAXL: $header = explode("\15\xa", $split2[1]); goto qfxiW; xzPLV: return we7_http_response_parse($rlt["\x63\x6f\156\164\x65\156\164"]); goto TYMoX; vOA1B: $rlt["\143\157\156\164\145\x6e\x74"] = $split1[1]; goto tUa4Y; ypxm4: CqvAD: goto vOA1B; kOfM_: } goto uh52z; RSU3y: if (!(is_array($data) && isset($data["\145\162\x72\x6f\162"]))) { goto tXduR; } goto AKBo5; mdYqD: $result = array(); goto albKE; c70VB: exit(we7_error(0, $chunk_num)); goto SH9nG; OOSEJ: FQAuI: goto AgEOc; FR5rP: $server["\165\x70\x6c\x6f\141\144"] = strtolower($server["\165\x70\x6c\x6f\141\144"]); goto B4pob; mXDbY: header("\143\157\156\x74\x65\156\x74\55\x74\171\x70\x65\72\x74\x65\170\x74\x2f\150\x74\x6d\154\73\143\x68\x61\162\163\x65\164\75\165\164\146\55\70"); goto Icn2T; dSi3o: if ($ret["\144\157\155"]["\157\153"]) { goto TEXbE; } goto vHk5z; w8e56: $handle_result = we7_handle_chunk(); goto KxR7N; Nvu8B: $chunk_num = isset($_GET["\x63\150\x75\156\153"]) ? intval($_GET["\x63\150\x75\x6e\153"]) : 0; goto X4Ifa; xtqBg: define("\x49\116\x53\x54\x41\114\114\137\x56\105\122\123\x49\117\116", "\x31\x2e\64"); goto alf5F; xXQaI: function local_config() { $cfg = "\x3c\x3f\160\x68\x70\12\144\145\146\151\x6e\145\x64\x28\x27\111\x4e\137\x49\x41\47\x29\40\x6f\162\x20\145\x78\x69\164\x28\47\x41\143\143\x65\163\163\x20\x44\145\x6e\151\145\x64\x27\51\x3b\12\xa\x24\143\157\156\x66\151\x67\40\x3d\40\141\x72\162\141\x79\x28\x29\x3b\12\12\44\143\157\156\146\151\147\x5b\47\144\142\47\x5d\133\x27\155\141\x73\164\x65\x72\47\x5d\x5b\47\150\157\x73\x74\47\135\x20\75\x20\47\173\104\102\x5f\110\117\123\124\175\47\73\12\x24\x63\157\156\146\151\147\133\47\144\142\x27\135\133\47\x6d\x61\x73\x74\145\162\47\135\x5b\47\165\x73\x65\x72\156\141\x6d\x65\x27\x5d\x20\x3d\40\x27\173\104\102\x5f\125\x53\105\x52\x4e\101\115\105\x7d\x27\73\12\44\143\157\x6e\x66\151\147\133\47\144\142\x27\x5d\133\47\155\x61\x73\x74\145\x72\47\135\x5b\x27\160\x61\163\x73\167\157\162\x64\x27\x5d\x20\x3d\x20\47\x7b\x44\x42\x5f\120\101\x53\x53\x57\117\122\104\x7d\47\73\12\x24\x63\157\x6e\146\x69\147\x5b\x27\x64\142\x27\135\x5b\x27\155\x61\163\164\145\162\47\x5d\133\x27\x70\x6f\x72\x74\x27\135\40\x3d\40\47\173\x44\102\137\120\117\122\x54\x7d\x27\73\12\x24\143\157\156\146\151\x67\133\47\x64\x62\x27\x5d\133\47\155\141\163\x74\145\x72\x27\x5d\x5b\x27\144\x61\x74\x61\142\141\x73\x65\47\x5d\40\75\x20\47\x7b\x44\102\x5f\x44\101\x54\x41\x42\101\123\x45\175\x27\73\12\44\x63\157\x6e\x66\151\147\x5b\x27\x64\x62\x27\135\x5b\47\x6d\x61\x73\x74\145\x72\47\x5d\133\x27\x63\150\141\x72\x73\145\x74\x27\135\x20\x3d\40\47\165\164\x66\x38\x27\73\12\44\x63\x6f\156\146\x69\147\x5b\x27\x64\x62\x27\x5d\x5b\47\155\141\163\164\x65\x72\x27\135\133\47\160\x63\x6f\x6e\156\145\143\x74\47\135\x20\x3d\40\x30\x3b\12\44\x63\157\156\146\151\147\x5b\x27\x64\142\x27\135\133\47\x6d\141\x73\x74\x65\162\47\135\x5b\x27\164\141\142\154\145\160\x72\145\x27\135\40\x3d\40\47\173\104\102\137\x54\101\102\x4c\x45\x50\122\x45\175\x27\73\xa\12\x24\x63\157\x6e\146\x69\147\x5b\x27\144\142\47\x5d\133\x27\x73\x6c\x61\166\145\x5f\163\164\141\164\165\x73\x27\135\x20\75\x20\x66\x61\x6c\163\145\x3b\xa\x24\x63\157\156\146\151\x67\x5b\x27\x64\x62\47\x5d\133\x27\163\x6c\141\x76\x65\x27\x5d\133\x27\x31\x27\x5d\x5b\47\x68\157\x73\164\47\135\40\x3d\x20\47\47\73\12\x24\143\x6f\x6e\146\151\147\133\47\144\142\x27\x5d\133\x27\x73\154\x61\166\x65\47\135\x5b\x27\x31\x27\135\x5b\47\165\x73\x65\162\x6e\x61\155\x65\47\135\x20\x3d\x20\x27\x27\x3b\12\x24\143\157\156\146\x69\x67\133\47\x64\142\x27\x5d\x5b\47\163\x6c\x61\166\145\47\x5d\133\47\x31\x27\135\133\x27\x70\x61\163\163\x77\157\x72\144\47\135\40\75\x20\x27\x27\x3b\xa\44\143\x6f\156\x66\151\x67\133\47\x64\x62\47\135\x5b\x27\163\154\141\166\x65\x27\x5d\x5b\47\x31\x27\x5d\x5b\x27\160\x6f\162\164\47\135\x20\75\x20\x27\x33\63\x30\67\47\x3b\12\44\x63\157\x6e\x66\151\x67\133\47\x64\142\47\x5d\133\47\x73\154\141\x76\x65\47\135\133\47\x31\x27\135\x5b\47\144\x61\164\141\x62\x61\163\x65\x27\135\x20\x3d\40\47\47\73\12\44\x63\157\x6e\146\x69\147\133\x27\x64\x62\47\x5d\133\x27\x73\154\141\166\x65\x27\135\x5b\47\61\47\x5d\x5b\47\143\x68\x61\162\163\x65\x74\x27\x5d\x20\75\40\47\x75\x74\146\x38\47\x3b\xa\x24\x63\157\x6e\x66\x69\147\133\47\x64\x62\x27\x5d\133\47\x73\x6c\x61\x76\145\x27\135\133\x27\x31\47\x5d\x5b\x27\160\143\x6f\x6e\156\x65\143\x74\47\x5d\x20\x3d\40\60\x3b\12\44\x63\157\x6e\146\151\147\x5b\47\x64\x62\x27\135\x5b\47\x73\x6c\141\x76\x65\47\135\x5b\x27\x31\47\x5d\133\x27\x74\x61\x62\x6c\x65\160\162\145\47\135\x20\75\40\x27\x69\x6d\x73\x5f\x27\73\xa\x24\143\x6f\x6e\x66\151\x67\x5b\47\x64\x62\x27\135\133\x27\163\x6c\x61\166\x65\47\135\x5b\x27\61\x27\x5d\x5b\x27\167\145\151\147\150\x74\47\135\x20\75\40\60\73\xa\xa\44\x63\x6f\156\146\151\x67\x5b\47\144\142\x27\135\133\47\143\x6f\155\x6d\x6f\156\x27\135\133\47\163\x6c\x61\166\145\137\x65\x78\143\145\160\164\137\x74\x61\142\154\x65\47\135\40\75\x20\x61\x72\x72\x61\x79\50\47\143\157\x72\145\x5f\163\x65\x73\163\x69\157\156\163\47\x29\73\xa\12\x2f\x2f\x20\55\55\55\55\x2d\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\x2d\55\55\x2d\x2d\55\x2d\x2d\55\55\x2d\55\x2d\x20\x20\103\117\116\106\111\107\40\103\x4f\x4f\x4b\x49\x45\x20\x20\55\x2d\x2d\55\x2d\x2d\55\55\55\x2d\55\55\55\55\x2d\55\x2d\x2d\x2d\x2d\x2d\55\55\55\x2d\55\55\40\57\57\12\44\x63\x6f\156\x66\151\147\133\47\143\157\157\x6b\151\145\x27\135\133\47\x70\x72\x65\x27\x5d\40\x3d\x20\x27\173\x43\117\117\113\111\x45\x50\x52\x45\x7d\x27\x3b\xa\44\143\157\156\146\151\x67\133\x27\x63\x6f\157\x6b\x69\145\x27\x5d\133\x27\x64\157\x6d\141\x69\156\x27\135\40\75\40\47\x27\73\12\x24\x63\x6f\x6e\x66\x69\147\133\47\x63\x6f\157\x6b\151\145\47\135\x5b\47\160\x61\164\x68\47\135\x20\x3d\40\47\x2f\47\73\12\xa\57\57\40\x2d\x2d\55\x2d\55\55\x2d\55\55\55\x2d\55\x2d\x2d\55\x2d\x2d\x2d\55\55\55\55\55\55\55\x2d\40\40\103\x4f\116\106\x49\107\40\x53\x45\x54\124\111\x4e\107\40\x20\55\x2d\x2d\55\55\x2d\x2d\55\55\x2d\x2d\55\55\55\x2d\55\55\x2d\55\x2d\55\55\x2d\55\55\x2d\x2d\40\57\57\12\44\x63\157\156\x66\x69\x67\x5b\47\x73\x65\164\x74\151\156\147\47\x5d\x5b\x27\143\x68\x61\162\x73\145\x74\47\x5d\40\x3d\40\x27\x75\x74\x66\55\x38\x27\73\12\x24\x63\157\156\x66\x69\x67\133\x27\163\x65\x74\164\151\156\x67\47\135\133\47\143\x61\143\150\x65\47\135\x20\x3d\40\x27\155\x79\163\x71\154\x27\x3b\xa\x24\x63\157\x6e\146\151\x67\x5b\47\163\x65\x74\164\x69\156\x67\47\x5d\x5b\x27\x74\151\x6d\145\172\x6f\x6e\145\47\135\x20\x3d\x20\x27\101\163\151\x61\x2f\x53\150\x61\x6e\x67\150\141\x69\47\73\12\44\x63\157\156\x66\151\147\133\x27\163\x65\164\164\151\x6e\147\47\x5d\133\47\x6d\145\155\157\x72\171\137\154\151\155\151\164\x27\x5d\40\75\40\47\62\x35\x36\115\x27\73\xa\x24\143\157\156\x66\151\147\133\47\x73\x65\x74\164\151\x6e\147\47\x5d\133\47\146\151\x6c\x65\x6d\x6f\144\145\47\x5d\40\x3d\x20\x30\66\x34\x34\x3b\xa\x24\x63\x6f\x6e\x66\151\147\133\47\x73\x65\x74\x74\x69\156\x67\x27\x5d\133\x27\x61\x75\164\150\x6b\145\171\x27\135\40\x3d\40\47\x7b\101\125\124\x48\x4b\x45\131\175\47\x3b\xa\44\143\157\x6e\146\151\x67\x5b\47\163\145\x74\x74\x69\x6e\147\x27\x5d\133\x27\146\157\165\x6e\x64\x65\162\x27\x5d\x20\x3d\x20\x27\61\47\73\12\44\143\157\x6e\x66\x69\147\x5b\x27\163\x65\164\164\151\156\x67\x27\x5d\x5b\47\x64\145\166\x65\x6c\x6f\x70\155\145\156\164\47\135\40\75\x20\x30\x3b\12\44\143\157\x6e\x66\151\147\133\47\163\145\x74\x74\x69\x6e\x67\47\x5d\133\47\162\145\x66\x65\162\162\x65\162\47\x5d\x20\75\x20\x30\73\12\xa\x2f\x2f\40\55\55\55\55\55\x2d\x2d\55\x2d\55\55\x2d\55\55\55\x2d\55\x2d\55\x2d\55\55\x2d\55\x2d\55\x20\40\x43\x4f\x4e\106\x49\x47\40\x55\120\114\117\101\104\40\40\x2d\x2d\55\x2d\x2d\55\55\x2d\55\x2d\55\55\55\x2d\x2d\55\x2d\55\55\55\55\x2d\55\x2d\x2d\x2d\55\x20\x2f\57\xa\44\143\157\156\x66\x69\147\x5b\47\x75\x70\x6c\157\x61\144\x27\x5d\x5b\x27\151\x6d\141\x67\145\x27\135\133\x27\x65\x78\x74\145\x6e\164\151\x6f\156\x73\47\135\40\x3d\x20\x61\x72\162\141\171\50\47\147\151\x66\47\x2c\x20\47\152\x70\147\x27\x2c\40\47\152\160\x65\x67\x27\x2c\40\47\x70\156\147\x27\51\x3b\xa\44\143\157\156\x66\151\147\x5b\x27\x75\160\x6c\157\141\x64\x27\x5d\x5b\47\151\x6d\141\x67\145\47\x5d\x5b\x27\x6c\151\x6d\151\164\x27\135\40\x3d\x20\x35\60\x30\60\73\12\44\x63\157\156\x66\151\147\133\x27\x75\160\x6c\x6f\141\144\47\135\x5b\47\x61\164\164\x61\x63\150\144\151\x72\47\x5d\x20\75\x20\47\141\164\164\x61\143\150\155\x65\156\164\47\x3b\12\44\143\x6f\156\146\151\x67\133\x27\x75\x70\x6c\x6f\141\144\47\135\133\47\x61\x75\144\151\157\x27\135\x5b\47\145\x78\x74\145\x6e\164\151\157\x6e\x73\x27\x5d\x20\x3d\40\141\162\x72\141\x79\50\x27\x6d\160\x33\47\51\73\xa\x24\x63\157\156\146\x69\x67\133\47\165\x70\x6c\157\141\144\47\x5d\x5b\x27\x61\165\144\x69\157\x27\135\133\47\x6c\151\155\x69\x74\47\x5d\x20\x3d\40\65\60\x30\x30\x3b\12\xa\57\x2f\40\x2d\x2d\55\55\55\55\55\x2d\55\55\x2d\55\55\x2d\x2d\55\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\40\40\x43\x4f\116\x46\111\107\x20\115\105\x4d\103\x41\x43\110\105\x20\40\55\x2d\x2d\x2d\55\55\55\x2d\x2d\55\55\55\x2d\55\x2d\55\x2d\x2d\x2d\55\x2d\x2d\x2d\x2d\55\x2d\55\40\57\x2f\12\x24\x63\157\156\146\151\147\x5b\x27\x73\x65\164\164\151\156\x67\47\135\x5b\47\155\x65\x6d\143\141\143\150\x65\x27\x5d\133\47\163\145\x72\166\145\162\47\x5d\40\75\x20\47\47\x3b\xa\x24\143\157\156\146\x69\x67\133\47\x73\145\164\x74\x69\x6e\x67\47\x5d\x5b\x27\155\x65\x6d\x63\141\x63\x68\x65\x27\x5d\133\x27\160\157\162\x74\x27\x5d\x20\x3d\x20\61\61\x32\61\61\73\xa\44\x63\x6f\156\146\151\147\x5b\x27\x73\145\x74\x74\151\156\147\x27\135\x5b\47\155\x65\x6d\143\141\x63\150\145\47\135\x5b\47\x70\x63\157\156\156\x65\143\164\47\x5d\40\75\x20\61\73\12\x24\143\x6f\x6e\x66\x69\147\x5b\x27\x73\x65\164\x74\x69\x6e\x67\47\135\133\x27\x6d\145\x6d\143\x61\143\x68\x65\47\x5d\133\x27\x74\151\155\x65\x6f\x75\164\47\135\40\x3d\40\x33\x30\x3b\12\44\143\157\156\x66\x69\x67\133\x27\163\x65\x74\x74\x69\x6e\x67\47\x5d\x5b\x27\155\145\x6d\143\x61\143\x68\145\47\x5d\133\x27\x73\x65\x73\x73\x69\157\156\47\x5d\40\x3d\40\61\x3b\12\xa\x2f\57\40\x2d\55\x2d\55\55\55\x2d\55\55\x2d\55\x2d\x2d\x2d\55\55\x2d\55\55\x2d\x2d\x2d\x2d\x2d\x2d\x2d\40\x20\103\117\116\106\x49\107\x20\120\x52\x4f\130\x59\x20\x20\x2d\55\55\x2d\55\55\x2d\55\x2d\55\55\55\x2d\55\x2d\x2d\55\55\x2d\x2d\55\55\55\x2d\x2d\x2d\x2d\x20\57\57\xa\44\x63\x6f\156\x66\151\x67\133\x27\163\145\x74\164\151\156\147\x27\x5d\133\47\160\x72\x6f\x78\171\47\135\133\47\150\157\163\164\47\135\x20\x3d\40\x27\x27\x3b\xa\44\143\x6f\x6e\146\x69\147\133\x27\x73\x65\164\164\x69\156\147\x27\x5d\133\x27\160\x72\x6f\x78\x79\x27\x5d\x5b\x27\141\165\164\150\x27\135\40\x3d\40\x27\x27\73"; return trim($cfg); } goto e5UGx; RxGsi: RH9e8: goto Xf2S1; AsRyX: exit(we7_error(421, $handle_result)); goto rf8FC; GL1Zk: $fh = fopen("\56\x2f\167\x65\67\x73\x6f\x75\162\x63\x65\x2e\x7a\x69\160", "\x77\142"); goto Y9vW7; e5UGx: function local_mkdirs($path) { goto AIVi7; oQiOL: llQur: goto UyopF; UyopF: return is_dir($path); goto KrZtP; UCjYh: local_mkdirs(dirname($path)); goto xTnS3; xTnS3: mkdir($path); goto oQiOL; AIVi7: if (is_dir($path)) { goto llQur; } goto UCjYh; KrZtP: } goto Y9lRM; cGUq7: iXnKY: goto Bs2Jb; l3ynT: goto Ily79; goto yeWiz; x0FXq: KAw_v: goto unqcl; MmsPI: if (!($action == "\144\157\167\156\x6c\x6f\x61\x64")) { goto ms1R5; } goto Nvu8B; a77Ui: $allow_origin = array("\150\164\x74\160\163\72\57\x2f\165\x73\145\162\56\x77\67\56\143\x63", "\x68\x74\164\x70\163\72\x2f\x2f\x63\157\x6e\163\157\154\145\56\167\67\x2e\x63\x63", "\150\164\164\x70\x3a\57\57\143\x6f\x6e\x73\157\154\145\56\x77\x37\x2e\x63\x63", "\x68\164\164\x70\x3a\x2f\57\x75\x73\145\162\x2e\167\67\x2e\143\x63"); goto t2cYQ; tYjbJ: $source_size = we7_getcookie("\143\x64\156\137\163\157\165\162\143\x65\x5f\x73\151\172\x65"); goto edQ3g; Qh94J: kdEj8: goto H727G; KHitf: if (!empty($chunk_total)) { goto kdEj8; } goto BjIjj; HMYBy: Abb0O: goto NO0Pr; EcTj8: if (we7_network_enable($host)) { goto jHSiP; } goto Pe_vQ; b1qJY: $ret["\x6e\145\164\x77\157\162\x6b\x5f\x65\156\x61\x62\x6c\x65\x64"]["\x72\x65\163\165\154\164"] = "\345\xa4\x96\xe7\xbd\x91\xe4\270\215\345\x8f\257\350\xae\xbf\351\227\256"; goto zwgXU; JFR4v: ini_set("\144\x69\163\x70\x6c\141\171\x5f\145\x72\x72\x6f\162\x73", 0); goto VAMUn; t2cYQ: if (!(!empty($_SERVER["\110\x54\x54\x50\x5f\117\x52\x49\x47\x49\116"]) && in_array($_SERVER["\x48\124\124\x50\x5f\117\122\x49\x47\x49\116"], $allow_origin))) { goto UD9bS; } goto IIfo3; NO0Pr: if (!empty($data)) { goto P7Yk0; } goto FMIQe; QjENb: $hostfile = fopen($cdn_source_file, "\x72\x62"); goto GL1Zk; lHzxb: F5MgB: goto QMeAe; g6upO: define("\x41\120\x49\x5f\x47\x45\124\x5f\x43\x48\x55\x4e\113\x5f\x50\x41\x43\113\x41\107\x45", API_HOST . "\57\x75\x74\151\x6c\x2f\160\141\143\153\141\147\x65\57\x69\x6e\x73\164\141\x6c\x6c"); goto O2HE3; uh52z: function we7_request_api($url, $post = array()) { goto yhkW1; zCc6R: return $result; goto MESQj; dMXwc: if (!($response["\143\157\144\x65"] == 401)) { goto BrdWd; } goto JedCv; gW196: ZcZUU: goto zCc6R; JedCv: return array("\145\x72\x72\157\x72" => 401); goto bawVh; yhkW1: $response = we7_http_request($url, $post); goto dMXwc; FaXgy: if (!($response["\x63\x6f\144\x65"] != 200 || isset($response["\145\162\x72\156\157"]))) { goto YialH; } goto Y7ooV; Y7ooV: return array("\x65\x72\162\157\162" => $response["\x63\157\156\x74\145\x6e\164"]); goto JO8cV; nlufc: goto Dbqe1; goto gW196; LeHfD: if (is_array($result)) { goto ZcZUU; } goto v2J8Q; cweFj: $result = json_decode($response["\x63\x6f\156\164\145\x6e\164"], true); goto LeHfD; v2J8Q: return $response["\143\x6f\156\164\145\156\164"]; goto nlufc; bawVh: BrdWd: goto FaXgy; MESQj: Dbqe1: goto b6EuP; JO8cV: YialH: goto cweFj; b6EuP: } goto EBbPn; zptar: nVv0Y: goto CEu9B; RoA6A: $data = we7_request_api(API_OAUTH_ACCESSTOKEN, $params); goto RSU3y; nlqKL: if ($data["\x65\x72\x72\x6f\x72"] == 401) { goto V9ZrW; } goto BODeQ; nsgHP: $ret["\x61\154\167\x61\171\163\x5f\x70\x6f\x70\165\154\141\164\x65\137\162\x61\167\x5f\x70\x6f\163\x74\137\144\141\x74\141"]["\146\141\x69\x6c\x65\x64"] = @ini_get("\141\x6c\167\141\171\x73\x5f\x70\157\160\x75\x6c\x61\164\x65\x5f\x72\141\x77\137\x70\157\163\164\137\x64\x61\x74\x61") != "\x2d\61"; goto A7753; ZmWDy: T9aTs: goto FAXBo; z8Hgu: $chunk_i_filesize = filesize(IA_INSTALL_ROOT . "\57\143\150\165\156\x6b\137" . $i); goto NdelA; GZdig: $code = isset($_GET["\143\x6f\144\145"]) ? trim($_GET["\x63\x6f\x64\x65"]) : ''; goto bzS4W; eQXfu: $db = array("\x73\145\162\x76\x65\162" => $config["\x64\x62"]["\155\x61\x73\164\x65\162"]["\150\x6f\x73\164"], "\160\x6f\x72\164" => $config["\x64\x62"]["\x6d\141\163\164\145\162"]["\160\x6f\162\164"], "\x75\163\x65\162\156\141\x6d\145" => $config["\144\142"]["\x6d\x61\163\x74\145\162"]["\x75\163\145\162\x6e\x61\x6d\145"], "\160\141\163\x73\167\157\x72\144" => $config["\144\142"]["\x6d\141\x73\164\145\x72"]["\160\141\163\163\x77\157\x72\x64"], "\160\162\x65\x66\151\x78" => $config["\x64\142"]["\x6d\141\163\x74\x65\162"]["\x74\x61\x62\x6c\145\x70\x72\x65"], "\156\141\x6d\x65" => $config["\144\142"]["\x6d\141\x73\164\145\162"]["\x64\141\x74\x61\x62\x61\x73\145"]); goto yxvpm; mRvFx: if (!(is_array($data) && isset($data["\x65\x72\162\x6f\162"]))) { goto Abb0O; } goto nlqKL; zx6ub: $ret["\141\163\160\137\x74\141\x67\163"]["\146\x61\x69\x6c\145\144"] = true; goto qb9Pf; osYH1: goto KAw_v; goto WhmLB; OOZE8: exit(we7_error(400, $data["\145\x72\x72\157\x72"])); goto Z_jD8; QMWDB: exit(we7_error(400, "\xe6\x95\260\346\x8d\xae\351\x94\x99\xe8\xaf\xaf\x2e")); goto cGUq7; mcbWC: if (feof($hostfile)) { goto nAUxy; } goto WKalj; I6sew: $ret["\144\x61\x74\x61"]["\x72\145\163\x75\154\164"] = "\x64\x61\x74\141\xe7\233\xae\xe5\275\225\xe6\x97\xa0\xe6\xb3\x95\345\x86\x99\345\205\245"; goto IIyXQ; Bx0Or: $ret["\x64\157\155"]["\162\x65\x73\x75\x6c\164"] = "\xe6\xb2\xa1\xe6\x9c\x89\345\x90\257\347\x94\250\x44\x4f\x4d\x44\157\x63\x75\x6d\x65\156\x74"; goto ovig8; VynvQ: exit(we7_error(433, "\x61\x63\143\145\x73\x73\164\157\x6b\x65\x6e\40\x65\x78\160\151\162\145\x64\56")); goto CDL2K; Ka5cp: if ($data["\145\162\x72\157\162"] == 401) { goto viyke; } goto OOZE8; bSGWX: if (!(!empty($auth["\165\162\x6c"]) && $auth["\x75\162\x6c"] == $siteroot)) { goto QPYL8; } goto Ngd2l; PZYjn: if (!("\x4f\x50\x54\111\x4f\116\123" == $_SERVER["\x52\105\121\125\x45\123\124\x5f\115\105\x54\110\x4f\x44"])) { goto cBRkG; } goto JzDqN; JU0Kr: we7_finish(); goto bjR3R; OwChy: define("\x41\x50\x49\137\117\101\125\x54\110\x5f\114\x4f\x47\x49\x4e\x5f\x55\x52\114", API_HOST . "\57\x6f\x61\x75\x74\150\x2f\x6c\157\147\x69\x6e\x2d\165\x72\154\57\x69\x6e\144\145\170"); goto soh7c; ZazY_: we7_setcookie("\x63\x64\x6e\x5f\x73\157\165\162\143\145\x5f\165\x72\154", $data["\x75\162\154"]); goto qXmlU; smpAH: eEMnj: goto CB81Q; xtDrd: goto SkZnU; goto nRhRR; Sm3Ka: exit(we7_error(419, "\xe6\x95\xb0\xe6\215\256\345\272\223\345\x90\215\xe7\247\xb0\xe4\270\215\345\217\xaf\344\xb8\xba\347\xa9\272\x21")); goto V7L0_; Mm4OG: exit(we7_error(400, $password["\155\145\163\x73\141\x67\x65"])); goto y8aEW; gVf40: $info = "\350\216\267\345\217\x96\x61\143\143\145\163\x73\x74\x6f\153\x65\156\345\xa4\xb1\xe8\264\xa5\xef\274\x8c\xe8\257\xb7\40\74\x61\40\163\x74\171\154\x65\75\x22\143\x6f\154\157\162\72\43\x33\62\71\66\146\141\x3b\164\145\x78\164\x2d\x64\x65\143\x6f\x72\141\164\x69\x6f\x6e\x3a\x6e\157\156\145\42\40\150\x72\x65\x66\x3d" . $install_url . "\x3e\xe9\x87\x8d\xe6\226\xb0\347\x99\xbb\xe5\xbd\225\74\57\141\76\x20\xe3\x80\x82\74\x62\x72\x3e" . ($error["\145\x72\162\x6f\x72"] ? "\xe8\257\xa6\xe6\203\205\xef\xbc\x9a" . $error["\145\162\x72\x6f\x72"] : ''); goto vzcaW; PfI7M: TilGH: goto mA40w; m0XY7: $ret["\146\157\160\x65\x6e"]["\157\x6b"] = @ini_get("\141\154\154\x6f\167\137\x75\x72\x6c\x5f\146\x6f\x70\x65\x6e") && function_exists("\x66\x73\x6f\x63\153\x6f\x70\145\x6e"); goto ol70E; xujMy: exit; goto RjzAd; WVCEV: function local_writeable($dir) { goto Ak__I; A_Cqm: rKFA5: goto kL6gu; qqloJ: unlink("{$dir}\x2f\x74\145\163\164\56\x74\170\164"); goto k0g5d; yDwka: if ($fp = fopen("{$dir}\57\164\145\x73\x74\56\x74\x78\164", "\167")) { goto KsSjG; } goto DSDvl; k0g5d: $writeable = 1; goto JirNJ; dfT29: goto dzzFS; goto D8_J0; D8_J0: KsSjG: goto LIpva; Ak__I: $writeable = 0; goto X4vdL; kL6gu: if (!is_dir($dir)) { goto JR_3G; } goto yDwka; LIpva: fclose($fp); goto qqloJ; pb3hV: return $writeable; goto zjGEL; JirNJ: dzzFS: goto FQOMj; lQLOj: @mkdir($dir, 0777); goto A_Cqm; DSDvl: $writeable = 0; goto dfT29; FQOMj: JR_3G: goto pb3hV; X4vdL: if (is_dir($dir)) { goto rKFA5; } goto lQLOj; zjGEL: } goto w482S; wC0EU: $sitepath = substr($_SERVER["\120\110\120\x5f\x53\x45\x4c\106"], 0, strrpos($_SERVER["\x50\x48\x50\x5f\123\x45\114\x46"], "\57")); goto s_XbG; fEdYZ: exit(we7_error_page($info)); goto k_v3u; UQBIr: LIXQ5: goto NGlTP; bMiEP: TMazG: goto MmsPI; yeWiz: kCNdw: goto ZXQU1; T4yP6: $db_name = trim($_POST["\156\141\155\145"]); goto DoKsv; wPzFY: $db_prefix = !empty($db_prefix) ? $db_prefix : "\x69\x6d\163\x5f"; goto v4PcW; p7I5u: rhKfa: goto LKjKR; NdelA: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\143\150\165\x6e\x6b\137" . $i) || empty($chunk_i_filesize))) { goto F5MgB; } goto nqZl5; puzM_: function we7_handle_chunk() { goto ad_IN; OOfV0: $res = $zip->open($tmpfile); goto jxJD2; OSc6s: foreach ($all_files as $file) { goto p_4h8; shuzT: if (!(strpos($file, "\151\156\x73\x74\x61\x6c\x6c\x2e\x70\150\160") !== false)) { goto s79La; } goto jg0VE; jg0VE: goto UaCP1; goto oDdPR; IsCyS: if ("\x64\x61\x74\141" == $dir_or_file && is_dir($file)) { goto W832g; } goto JGP9r; JGP9r: rename($file, IA_INSTALL_ROOT . "\x2f" . $dir_or_file); goto F5VFa; hpR1B: W832g: goto a6_g0; X6Lu8: UaCP1: goto T0KZI; PkqNJ: JiI9N: goto X6Lu8; p_4h8: $dir_or_file = pathinfo($file, PATHINFO_BASENAME); goto shuzT; F5VFa: goto JiI9N; goto hpR1B; Ljc66: foreach ($all_data_files as $data_file) { goto WnU3S; RKfJO: rename($data_file, IA_INSTALL_ROOT . "\x2f\144\141\x74\x61\57" . $data_dir_or_file); goto otpu0; otpu0: wHev3: goto JglO2; WnU3S: $data_dir_or_file = pathinfo($data_file, PATHINFO_BASENAME); goto RKfJO; JglO2: } goto x_hch; a6_g0: $all_data_files = glob(IA_INSTALL_ROOT . "\x2f\x77\67\x5f\160\162\x6f\163\57\x64\141\x74\141\x2f\52"); goto Ljc66; oDdPR: s79La: goto IsCyS; x_hch: ruQnn: goto PkqNJ; T0KZI: } goto i32jv; pqV6n: $zip->close(); goto LBylF; LBylF: k3zsr: goto PK3sP; BVCq_: return $result; goto SR6yQ; jxJD2: if (!($res === true)) { goto k3zsr; } goto Ik1HK; v3Ui8: $result = false; goto HCVx5; i32jv: g81MZ: goto bmcJ8; bmcJ8: rename(IA_INSTALL_ROOT . "\x2f\x63\157\x6e\146\151\x67\x2d\61\56\170\x2e\160\150\x70", IA_INSTALL_ROOT . "\x2f\x64\141\x74\x61\x2f\x63\x6f\156\146\151\147\56\x70\x68\160"); goto KxsKg; fRhoC: rFng8: goto BVCq_; KxsKg: $result = true; goto fRhoC; ad_IN: $tmpfile = "\x2e\57\167\145\67\163\x6f\165\x72\143\145\56\172\x69\160"; goto v3Ui8; Ik1HK: $zip->extractTo(IA_INSTALL_ROOT); goto pqV6n; PK3sP: $all_files = glob(IA_INSTALL_ROOT . "\x2f\x77\67\137\160\x72\157\163\x2f\52"); goto OSc6s; RSOcJ: $zip = new ZipArchive(); goto OOfV0; HCVx5: if (!file_exists($tmpfile)) { goto rFng8; } goto RSOcJ; SR6yQ: } goto GhnaA; FMIQe: exit(we7_error(400, $chunk_num)); goto bXehN; oamC9: exit(we7_error(0, $chunk_num)); goto zPyab; vnLTa: $ret["\x76\145\x72\163\151\157\x6e"]["\156\x61\x6d\x65"] = "\120\110\x50\347\211\x88\xe6\x9c\254"; goto MdVm6; qBJfl: $callback = urlencode($url); goto czjom; RGGZp: exit(we7_error(419, "\xe6\225\xb0\346\215\256\345\xba\223\344\270\xbb\346\234\xba\xe4\270\x8d\xe5\x8f\257\344\270\xba\347\xa9\xba\41")); goto TkXld; cRa5x: PR6c1: goto vrTdC; Oqm1X: $i++; goto mHAYe; nqZl5: $finished = false; goto lHzxb; mzriU: fclose($hostfile); goto qSVbw; dFltH: $action = "\x6f\x61\x75\x74\x68"; goto WGzWW; WG62c: define("\111\101\x5f\111\116\x53\124\x41\114\114\x5f\x52\117\117\x54", str_replace("\x5c", "\x2f", dirname(__FILE__))); goto xtqBg; EGPzi: b6AtD: goto xJlHR; zgo9W: function we7_update_sitename($sitename) { goto dW5SZ; dO_LL: return $data["\x65\162\x72\157\x72"]; goto OmftK; xnelj: return "\347\253\231\xe7\x82\271\xe4\xbf\xa1\346\201\257\344\xb8\x8d\xe5\xad\x98\xe5\x9c\250\357\274\214\350\xaf\xb7\351\x87\215\xe6\226\xb0\xe6\263\xa8\xe5\x86\214\xe7\xab\x99\347\x82\271\x2e"; goto bsR4F; dW5SZ: global $accesstoken; goto wia1R; Evdle: if (is_array($data) && isset($data["\x65\162\x72\157\162"])) { goto zKYLc; } goto UmNlT; bsR4F: o2Srd: goto dMErv; NCJpR: return "\xe7\xab\x99\347\x82\xb9\344\xbf\241\xe6\201\257\344\xb8\255\xe7\253\x99\xe7\x82\xb9\345\220\215\xe7\247\260\xe4\270\xba\xe7\251\xba\357\xbc\x8c\xe8\257\xb7\350\x81\224\347\263\xbb\xe5\xae\230\346\x96\xb9\xe5\256\242\346\x9c\x8d\345\xa4\x84\xe7\220\206\357\274\x81"; goto eHD7Q; vKOe3: $data = we7_request_api(API_UPDATE_SITENAME, array("\x61\x63\143\145\x73\x73\x5f\x74\157\153\x65\x6e" => $accesstoken, "\163\x69\164\145\137\x6e\x61\x6d\145" => $sitename, "\163\x69\164\x65\137\153\145\171" => $site_info["\153\145\x79"])); goto Evdle; dMErv: if (!empty($site_info["\x6e\x61\x6d\x65"])) { goto LY9VI; } goto NCJpR; eHD7Q: LY9VI: goto LYEVv; OmftK: Uspxk: goto B42j0; KXysQ: $site_info = iunserializer($site_info["\166\x61\154\165\145"]); goto pUd1g; WjqAe: zKYLc: goto dO_LL; LYEVv: $sitename = !empty($sitename) ? $sitename : $site_info["\156\141\155\145"]; goto vKOe3; UmNlT: return true; goto tNmZx; wia1R: $site_info = pdo_get("\x63\x6f\x72\145\x5f\x73\145\164\164\x69\156\x67\x73", array("\x6b\x65\171" => "\163\151\164\145")); goto KXysQ; tNmZx: goto Uspxk; goto WjqAe; pUd1g: if (!(empty($site_info) || empty($site_info["\x6b\x65\x79"]))) { goto o2Srd; } goto xnelj; B42j0: } goto Bougt; mA40w: $is_https = $_SERVER["\x53\x45\x52\x56\x45\x52\137\120\x4f\x52\124"] == 443 || !empty($_SERVER["\x48\x54\x54\x50\x53"]) && strtolower($_SERVER["\x48\x54\124\120\123"]) != "\x6f\146\146" || !empty($_SERVER["\x48\x54\124\x50\x5f\x58\x5f\106\117\122\127\x41\122\104\x45\104\x5f\x50\x52\117\x54\x4f"]) && strtolower($_SERVER["\x48\x54\x54\x50\x5f\130\x5f\x46\x4f\x52\127\101\122\104\x45\x44\x5f\x50\x52\x4f\124\x4f"]) == "\x68\x74\164\160\x73" || !empty($_SERVER["\110\124\x54\x50\x5f\130\x5f\x43\x4c\x49\x45\x4e\x54\x5f\x53\103\x48\x45\115\x45"]) && strtolower($_SERVER["\x48\x54\124\120\137\130\x5f\103\114\111\x45\x4e\x54\137\123\x43\110\105\115\105"]) == "\150\x74\164\x70\163" ? true : false; goto wC0EU; KxR7N: if (!($handle_result !== true)) { goto SjoNJ; } goto AsRyX; Ngd2l: define("\111\x4e\x5f\x53\x59\x53", true); goto c5CSC; P3Fx8: $result = intval($download_size / $source_size * 100); goto i6gnA; OKp3g: $ret["\x64\157\155"]["\156\141\155\145"] = "\x44\x4f\115\x44\x6f\x63\165\155\145\x6e\x74"; goto Bx0Or; k_v3u: VuHhA: goto jDYQ0; RaM63: if (!(version_compare(PHP_VERSION, "\x35\56\x36\56\x30") == -1)) { goto yQUi2; } goto d89tD; Pe_vQ: $ret["\156\x65\164\167\157\162\x6b\137\145\156\141\142\x6c\145\144"]["\146\141\x69\x6c\x65\x64"] = true; goto hwSkP; Nym1X: $i = 1; goto jYHDb; oceef: if ($user_result) { goto rhKfa; } goto CyURB; WGzWW: goto LIXQ5; goto lu1xc; B4pob: if (!($server["\x75\x70\154\x6f\141\x64"] == "\165\156\153\156\x6f\x77" || !strstr($server["\165\x70\x6c\x6f\141\x64"], "\155"))) { goto oV1ca; } goto N1Ps6; mBdyt: function we7_upgrade() { goto TxSu4; bGTt6: foreach ($packet["\x66\x69\154\x65\163"] as $file) { cloud_download($file, "\146\151\x6c\145\x73"); xYpQG: } goto tM2Kx; Ah_Bg: load()->func("\144\142"); goto MMj30; eoSeH: $crelease = IMS_RELEASE_DATE; goto TbQG3; e2z8M: hrgrL: goto dFjvA; GV8_V: f6R4A: goto fum2b; MHO6u: OqUtt: goto IFUe0; n14VZ: define("\111\116\137\123\131\x53", true); goto eudcB; JxTpx: foreach ($updatefiles as $file) { goto YvOsI; intHV: cache_build_users_struct(); goto q5yIM; Gemj9: @unlink($entry); goto Nas2B; Ig91h: KN0fl: goto Lllbp; q5yIM: cache_build_setting(); goto Gemj9; Lllbp: $evalret = (include $entry); goto xUY9N; fo21L: Ovb1b: goto wSQo9; Nas2B: VeHG2: goto fo21L; YvOsI: if (!(!is_file($file) || !preg_match("\x2f\136\x75\x70\144\141\x74\145\134\x28\134\144\x7b\61\x32\175\134\55\134\x64\x7b\61\62\x7d\134\x29\x5c\56\160\x68\160\44\57", $file))) { goto KN0fl; } goto kbNmo; xUY9N: if (empty($evalret)) { goto VeHG2; } goto intHV; kbNmo: goto Ovb1b; goto Ig91h; wSQo9: } goto jXGc7; pZXDF: rmdirs($updatedir, true); goto sXmiM; eudcB: require IA_INSTALL_ROOT . "\57\x66\x72\141\155\x65\167\x6f\162\153\57\142\157\157\x74\163\164\162\141\160\x2e\151\156\x63\x2e\x70\150\160"; goto aC614; eGvnH: $updatefiles = array(); goto UxyEn; rBDPU: if (!(!empty($packet["\x66\x69\154\x65\163"]) && is_array($packet["\x66\151\x6c\145\163"]))) { goto f6R4A; } goto bGTt6; IFUe0: tbUnm: goto Qdl_Y; oOq1R: NtU1W: goto e2z8M; Bxk3T: return true; goto AE8XQ; zcV1Q: foreach ($packet["\163\x63\x68\x65\x6d\141\163"] as $schema) { goto VfTv0; M6PEz: $sqls = db_table_fix_sql($local, $schema); goto lzit6; Vwm8o: $local = db_table_schema(pdo(), $tablename); goto M6PEz; VfTv0: $tablename = substr($schema["\164\x61\142\154\145\x6e\x61\x6d\x65"], 4); goto Vwm8o; vxHge: R57lq: goto T4vUz; sdc0N: qZNVh: goto vxHge; lzit6: foreach ($sqls as $sql) { pdo_query($sql); hxHux: } goto sdc0N; T4vUz: } goto oOq1R; US2d_: load()->model("\143\154\x6f\165\x64"); goto Ah_Bg; CuooH: QBbhZ: goto BYuZc; U_aJA: $cversion = IMS_VERSION; goto eoSeH; dFjvA: if (!(!empty($packet["\163\x63\162\151\x70\164\163"]) && is_array($packet["\x73\143\162\x69\x70\x74\163"]))) { goto tbUnm; } goto eGvnH; TbQG3: foreach ($packet["\163\143\162\151\x70\164\x73"] as $script) { goto JjaMU; EGliY: $fname = "\x75\x70\144\141\x74\x65\x28{$crelease}\x2d{$script["\x72\x65\154\145\141\x73\x65"]}\x29\x2e\x70\x68\160"; goto SvJSw; Cds3V: goto ab2lY; goto Tz6NU; hCIhs: file_put_contents($updatefile, $script["\163\x63\x72\151\x70\164"]); goto iS7Ba; SvJSw: $crelease = $script["\x72\x65\154\x65\141\163\x65"]; goto rPFJv; IgUI2: kwXEu: goto OdtH3; X8VHQ: ab2lY: goto t5TJT; rPFJv: $script["\x73\143\x72\x69\160\x74"] = @base64_decode($script["\163\x63\x72\151\160\x74"]); goto MgDyU; iS7Ba: $updatefiles[] = $updatefile; goto X8VHQ; UMn2H: $script["\163\143\x72\151\x70\x74"] = <<<DAT
<?php
load()->model('setting');
setting_upgrade_version('{$packet["\x66\141\155\151\x6c\x79"]}', '{$script["\x76\x65\x72\163\151\157\x6e"]}', '{$script["\x72\x65\x6c\x65\141\x73\145"]}');
return true;
DAT;
goto IgUI2; JjaMU: if (!($script["\162\145\x6c\x65\x61\163\145"] <= $crelease)) { goto mi0VD; } goto Cds3V; OdtH3: $updatefile = $updatedir . $fname; goto hCIhs; MgDyU: if (!empty($script["\163\x63\162\151\x70\164"])) { goto kwXEu; } goto UMn2H; Tz6NU: mi0VD: goto EGliY; t5TJT: } goto CuooH; aC614: require IA_INSTALL_ROOT . "\x2f\167\145\x62\x2f\143\x6f\155\x6d\x6f\x6e\57\142\x6f\157\164\x73\x74\162\x61\160\x2e\x73\171\163\56\151\156\x63\x2e\x70\x68\160"; goto US2d_; MMj30: load()->func("\x66\151\x6c\145"); goto zfxZM; TxSu4: global $_W; goto n14VZ; zfxZM: $packet = cloud_build(); goto hc5TC; fum2b: if (!(!empty($packet["\163\x63\150\x65\x6d\141\x73"]) && is_array($packet["\x73\x63\150\145\155\141\x73"]))) { goto hrgrL; } goto zcV1Q; tM2Kx: d5rOg: goto GV8_V; Qdl_Y: return true; goto K0AqT; UxyEn: $updatedir = IA_INSTALL_ROOT . "\57\x64\x61\164\141\57\165\x70\x64\141\x74\145\x2f"; goto pZXDF; BYuZc: if (empty($updatefiles)) { goto OqUtt; } goto JxTpx; sXmiM: mkdirs($updatedir); goto U_aJA; jXGc7: ZbPej: goto MHO6u; hc5TC: if (!empty($packet)) { goto U7R_K; } goto Bxk3T; AE8XQ: U7R_K: goto rBDPU; K0AqT: } goto zgo9W; H727G: if (!($chunk_num == 1)) { goto GA8Ow; } goto QjENb; qb9Pf: $ret["\141\x73\x70\x5f\x74\x61\x67\x73"]["\x6e\x61\x6d\145"] = "\141\163\x70\137\x74\141\147\x73"; goto QJB3H; W8l3i: $password = safe_check_password($password); goto JzKNX; QJB3H: $ret["\141\163\x70\x5f\x74\x61\x67\163"]["\162\145\x73\x75\x6c\x74"] = "\x61\x73\160\137\x74\x61\x67\163\xe5\274\200\xe5\x90\xaf\xe7\x8a\xb6\xe6\200\201"; goto GBmk1; TMI4t: header("\101\x63\x63\x65\163\x73\x2d\x43\157\156\x74\162\157\154\55\x41\154\x6c\x6f\167\55\115\145\164\150\157\x64\x3a\x50\x4f\123\x54\x2c\x47\105\124\54\117\120\124\x49\x4f\116\123"); goto VfT9l; Q2eAW: cBRkG: goto brELv; kAojp: function we7_http_request($url, $post = array()) { goto lXhVY; R6gAH: curl_setopt($ch, CURLOPT_HTTPHEADER, array("\130\x2d\x55\163\x65\162\55\x49\160\x3a" . get_client_ip())); goto NyoVy; lXhVY: $ch = curl_init(); goto rmtpk; LaAyn: return we7_http_response_parse($data); goto CEeCQ; qVWAa: if (!$post) { goto KnY2C; } goto ktdmf; eVLDG: curl_close($ch); goto wLUDr; DTWPq: curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER["\x48\124\x54\120\137\125\x53\x45\x52\x5f\101\x47\x45\x4e\124"]); goto e7pcD; gXL3t: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto sZqZd; e7pcD: $data = curl_exec($ch); goto ILBqE; rmtpk: curl_setopt($ch, CURLOPT_URL, $url); goto gXL3t; UW4Vw: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); goto SEwiw; Umu71: KnY2C: goto kmPn2; UplJO: kJWdw: goto qU0Dx; v_pBx: curl_setopt($ch, CURLOPT_TIMEOUT, 60); goto UW4Vw; ktdmf: curl_setopt($ch, CURLOPT_POST, 1); goto jPgl8; wLUDr: if ($errno || empty($data)) { goto kJWdw; } goto LaAyn; sZqZd: @curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); goto lf5Il; ILBqE: $errno = curl_errno($ch); goto w7ZlG; NyoVy: curl_setopt($ch, CURLOPT_HTTPHEADER, array("\x58\x2d\127\x65\67\55\103\x61\x63\150\145\72" . time())); goto Umu71; Yff69: uA89y: goto iR3U2; kmPn2: curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 60); goto v_pBx; jPgl8: curl_setopt($ch, CURLOPT_POSTFIELDS, $post); goto R6gAH; w7ZlG: $error = curl_error($ch); goto eVLDG; lf5Il: curl_setopt($ch, CURLOPT_HEADER, 1); goto qVWAa; SEwiw: curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); goto DTWPq; CEeCQ: goto uA89y; goto UplJO; qU0Dx: return array("\145\x72\162\x6e\157" => $errno, "\x65\162\162\x6f\162" => $error); goto Yff69; iR3U2: } goto JOWVT; ffmqc: $ret["\144\157\x6d"]["\x6f\153"] = class_exists("\104\x4f\115\104\157\143\165\x6d\145\156\164"); goto dSi3o; xJlHR: if (file_exists(IA_INSTALL_ROOT . "\x2f\x64\141\164\x61\x2f\151\x6e\x73\x74\x61\x6c\x6c\x2e\x6c\157\143\x6b")) { goto dTOz5; } goto J_q7A; bUoxO: function we7_get_accesstoken() { goto YN0uu; KJBwv: return $_GET["\167\145\67\x69\156\163\164\141\154\154\x5f\141\143\143\x65\163\x73\x74\x6f\153\x65\x6e"]; goto TVMmV; fEe5w: RzD7C: goto V5DOC; TVMmV: nGEK6: goto v7HFR; LQ6vX: return $accesstoken["\141\x63\143\145\x73\x73\x5f\164\157\153\145\156"]; goto fEe5w; V5DOC: return ''; goto qLe4n; gcYuQ: if (!(!empty($accesstoken) && !empty($accesstoken["\141\x63\x63\145\163\163\137\x74\x6f\x6b\x65\x6e"]) && $accesstoken["\145\x78\160\151\162\x65\137\x74\151\x6d\145"] > time())) { goto RzD7C; } goto LQ6vX; v7HFR: $accesstoken = we7_getcookie("\x61\143\143\x65\x73\163\x74\x6f\153\x65\156"); goto gcYuQ; YN0uu: if (empty($_GET["\167\145\x37\151\156\163\x74\x61\154\154\x5f\x61\143\143\145\163\163\164\x6f\x6b\x65\156"])) { goto nGEK6; } goto KJBwv; qLe4n: } goto puzM_; FrXUW: $ret["\x66\157\x70\145\x6e"]["\x66\141\151\154\x65\144"] = true; goto IUHjv; sr5jU: function we7_register_site() { goto HEO5s; VypYE: return true; goto s1Ta0; E3Ig6: $release = IMS_RELEASE_DATE; goto b6mPY; V2VYs: local_mkdirs("\x64\x61\164\141\x2f\154\157\x67\x73"); goto P11mZ; CYPbq: Ib1sS: goto UU_1k; D7RdO: $version = IMS_VERSION; goto E3Ig6; y6j4h: file_put_contents("\56\57\144\x61\x74\141\x2f\154\157\x67\163\57\151\156\163\x74\141\x6c\x6c\x2d" . date("\131\x6d\x64") . "\56\x70\150\160", "\74\77\160\x68\160\x20\x65\170\151\x74\73\77\76"); goto I12lz; bwBcK: C8EI3: goto yOo11; P11mZ: zfvBJ: goto y6j4h; aMobh: defined("\x49\116\x5f\111\101") or define("\x49\x4e\x5f\111\x41", true); goto ivpnu; vhi0L: $post = array("\x61\x63\143\x65\163\x73\137\164\x6f\153\x65\x6e" => $accesstoken, "\156\x61\x6d\145" => $siteroot . "\xe7\232\x84\xe7\xab\231\xe7\202\xb9", "\x75\x72\154" => $siteroot, "\x76\x65\x72\163\151\x6f\156" => $version, "\x72\x65\154\145\141\163\x65" => $release, "\143\141\154\x6c\142\141\x63\x6b" => $callback, "\x69\156\x73\x74\x61\154\154\x5f\164\171\160\145" => 1); goto v82M8; s1Ta0: goto Ib1sS; goto bwBcK; yOo11: return $data["\145\162\x72\157\162"]; goto CYPbq; ivpnu: require IA_INSTALL_ROOT . "\x2f\x66\x72\x61\x6d\x65\x77\x6f\162\x6b\57\x76\145\162\x73\151\157\x6e\x2e\x69\156\143\x2e\x70\150\160"; goto D7RdO; Zdr_J: if (is_dir("\x64\x61\x74\x61\x2f\x6c\157\x67\163")) { goto zfvBJ; } goto V2VYs; v82M8: $data = we7_request_api(API_OAUTH_REGISTER_SITE, $post); goto Zdr_J; WTS2A: if (is_array($data) && isset($data["\145\x72\x72\157\162"])) { goto C8EI3; } goto VypYE; I12lz: file_put_contents("\56\x2f\144\x61\164\141\57\x6c\x6f\x67\163\57\x69\156\x73\164\x61\x6c\154\x2d" . date("\x59\x6d\144") . "\56\x70\x68\160", var_export(array($data, $post), true), FILE_APPEND); goto WTS2A; b6mPY: $callback = urlencode($siteroot . "\x2f\x69\156\x73\x74\x61\x6c\154\x2e\x70\150\x70\x3f\163\x74\x65\160\75\x72\145\147\x69\x73\164\x65\x72\x5f\x63\141\154\154\142\x61\x63\x6b"); goto vhi0L; HEO5s: global $siteroot, $accesstoken; goto aMobh; UU_1k: } goto mBdyt; TRR5X: if (!($finished === true)) { goto ZYI5K; } goto w8e56; gO6nG: $ret["\162\x6f\157\x74"]["\x6e\x61\155\x65"] = "\xe6\234\254\345\x9c\xb0\347\233\256\xe5\275\x95\xe5\206\x99\xe5\x85\xa5"; goto Aervh; uaoSB: exit(we7_error(400, "\x63\x68\165\x6e\x6b\345\xa4\247\xe4\272\216\xe6\x9c\x80\345\244\247\xe5\200\xbc")); goto T9lOO; bXehN: P7Yk0: goto vXvjl; nXkHa: if (!($database_result !== true)) { goto yIThv; } goto fd0XF; Icn2T: echo "\x3c\41\x64\157\143\164\171\160\145\x20\150\164\x6d\x6c\76\12\x3c\150\164\155\x6c\40\x6c\141\x6e\147\x3d\42\x65\x6e\x22\x3e\xa\74\x68\145\x61\x64\76\12\x20\40\74\155\x65\164\x61\x20\143\x68\141\162\163\145\x74\x3d\42\165\164\146\x2d\x38\x22\76\12\x20\x20\x3c\164\x69\x74\x6c\145\x3e\xe5\276\xae\346\223\x8e\345\xae\211\xe8\xa3\x85\x3c\x2f\x74\x69\x74\154\x65\x3e\xa\40\40\74\142\x61\163\x65\x20\150\x72\x65\x66\x3d\x22" . $sitepath . "\57\x69\156\x73\x74\x61\x6c\x6c\56\160\x68\x70\42\x3e\xa\12\x20\x20\74\155\x65\x74\x61\40\156\141\x6d\x65\x3d\42\166\x69\145\x77\160\157\162\164\42\40\x63\x6f\x6e\x74\145\x6e\x74\x3d\42\x77\151\144\x74\150\75\144\x65\x76\151\143\145\55\167\151\x64\x74\150\54\x20\151\x6e\x69\164\151\141\154\x2d\163\143\x61\x6c\145\75\61\42\76\12\40\40\x3c\154\151\x6e\x6b\x20\x72\x65\154\x3d\x22\151\143\x6f\156\42\40\x74\x79\160\145\75\42\151\x6d\141\x67\145\57\170\x2d\151\143\x6f\156\x22\40\x68\162\145\x66\75\x22\150\164\164\160\x73\72\57\x2f\143\144\156\56\167\x37\x2e\143\x63\x2f\146\141\166\151\x63\x6f\156\x2e\x69\143\x6f\42\x3e\12\74\x6c\151\156\153\40\x72\x65\154\75\42\x73\164\x79\x6c\145\163\150\145\x65\x74\x22\x20\150\162\x65\146\75\x22\57\57\x63\x64\156\56\x77\x37\56\143\143\57\x75\x65\x64\x2f\167\145\x37\x2d\x69\156\163\164\x61\x6c\154\57" . INSTALL_VERSION . "\x2f\163\164\171\154\x65\163\56\143\x73\x73\77\x76\75" . time() . "\42\x3e\74\57\150\x65\141\144\x3e\12\74\142\x6f\x64\171\x3e\12\x20\x20\74\141\x70\x70\x2d\x72\157\157\164\76\74\x2f\x61\160\160\55\162\x6f\157\164\76\xa\x3c\x73\x63\162\x69\160\164\40\164\171\160\145\75\x22\164\145\x78\x74\x2f\152\x61\x76\x61\163\143\x72\x69\x70\164\42\x20\x73\x72\x63\75\42\x2f\57\143\x64\x6e\56\167\67\x2e\x63\x63\57\x75\145\144\x2f\167\145\67\x2d\151\156\x73\164\x61\154\154\57" . INSTALL_VERSION . "\x2f\x72\165\156\164\x69\155\x65\56\x6a\163\77\x76\75" . time() . "\42\x3e\x3c\57\163\x63\162\x69\160\x74\x3e\x3c\163\x63\x72\151\160\x74\40\164\x79\x70\x65\x3d\x22\x74\145\170\x74\x2f\x6a\x61\166\x61\163\x63\x72\151\160\x74\42\x20\x73\162\143\75\42\57\57\x63\144\156\x2e\167\67\x2e\x63\143\57\x75\145\144\x2f\x77\145\x37\x2d\x69\x6e\x73\x74\141\x6c\154\57" . INSTALL_VERSION . "\x2f\x70\157\x6c\x79\x66\151\154\x6c\163\56\x6a\x73\77\x76\x3d" . time() . "\42\x3e\x3c\x2f\163\143\162\151\160\x74\76\x3c\163\x63\162\x69\160\164\40\x74\x79\x70\x65\75\42\164\145\170\x74\57\152\x61\x76\141\x73\x63\x72\x69\160\164\x22\x20\x73\x72\x63\75\x22\57\x2f\x63\144\156\x2e\x77\67\56\x63\143\x2f\165\145\x64\x2f\167\x65\x37\55\151\156\163\x74\141\x6c\154\57" . INSTALL_VERSION . "\57\155\x61\151\x6e\x2e\x6a\163\77\166\x3d" . time() . "\x22\x3e\74\57\x73\x63\x72\151\x70\x74\x3e\74\x2f\142\x6f\144\171\x3e\12\x3c\57\150\x74\155\x6c\x3e";